{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Grant\\\\Desktop\\\\Intelli-Farm-new\\\\intelli-farm\\\\src\\\\pages\\\\tables\\\\Dashboard.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport useAxios from \"axios-hooks\";\nimport Preloader from \"../../components/Preloader\";\nimport ApexChart from \"react-apexcharts\";\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport \"./Dashboard.css\";\nimport { API_URL } from \"../../api\";\nimport drop from \"./drop.svg\";\nimport { HomeFlowFertilizerBarChart } from './HomeFlowFertilizerBarChart';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AppName = () => {\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"inline-flex\",\n        alignItems: \"center\",\n        alignContent: \"center\",\n        justifyContent: \"center\",\n        fontFamily: \"'Noto Sans JP', sans-serif\",\n        fontSize: \"3rem\",\n        backgroundColor: \"#293354\",\n        color: \"white\",\n        width: \"90%\",\n        border: \"1px 1px solid #184ea3\",\n        position: \"fixed\"\n      },\n      children: [\"Intelli-Farm \", /*#__PURE__*/_jsxDEV(\"img\", {\n        src: drop,\n        width: \"50rem\",\n        alt: drop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 22\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 17,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 16,\n    columnNumber: 5\n  }, this);\n};\n_c = AppName;\nconst BorderLinearProgress = withStyles(theme => ({\n  root: {\n    height: 10,\n    borderRadius: 5\n  },\n  colorPrimary: {\n    backgroundColor: theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\n  },\n  bar: {\n    borderRadius: 5,\n    backgroundColor: \"#05ab24\"\n  }\n}))(LinearProgress);\n\nconst IrrigationProgress = ({\n  data\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    padding: \"1.5rem\"\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Irrigation\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: \"1.5rem\"\n    },\n    children: \"Cycle Progress\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      marginTop: \"1rem\"\n    },\n    children: /*#__PURE__*/_jsxDEV(BorderLinearProgress, {\n      variant: \"determinate\",\n      value: data.cycle_progress\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 54,\n  columnNumber: 3\n}, this);\n\n_c2 = IrrigationProgress;\n\nconst IrrigationTimeLeft = ({\n  data\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    padding: \"1.5rem\",\n    alignItems: \"center\",\n    alignContent: \"center\",\n    justifyContent: \"center\"\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    className: \".text-lg\",\n    children: \"Irrigation Time Left\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: \"1.5rem\"\n    },\n    children: [data.irrigation_time_left, \"min left\"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 64,\n  columnNumber: 3\n}, this);\n\n_c3 = IrrigationTimeLeft;\n\nconst IrrigationEC = ({\n  data\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    padding: \"1.5rem\"\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"EC Average\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 81,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: \"1.5rem\"\n    },\n    children: \"2.93 mS\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 82,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"0.07 mS Below Target\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 83,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 80,\n  columnNumber: 3\n}, this);\n\n_c4 = IrrigationEC;\n\nconst Pump = ({\n  pump\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  style: {\n    padding: \"1.5rem\"\n  },\n  children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n    children: \"Water Pump\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 89,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    style: {\n      fontWeight: \"bold\",\n      fontSize: \"1.5rem\"\n    },\n    children: [\"Status: \", pump.status]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n    children: pump.main_flow\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this)]\n}, void 0, true, {\n  fileName: _jsxFileName,\n  lineNumber: 88,\n  columnNumber: 3\n}, this);\n\n_c5 = Pump;\nexport const HomeFlowFertilizerPieChart = ({\n  data\n}) => {\n  const series = data.map(({\n    ratio\n  }) => ratio);\n  const labels = data.map(({\n    name\n  }) => name);\n  return /*#__PURE__*/_jsxDEV(ApexChart, {\n    type: \"donut\",\n    height: 300,\n    series: series,\n    options: {\n      labels: labels,\n      legend: {\n        formatter: (label, {\n          seriesIndex\n        }) => `${label} - ${data[seriesIndex].value} ${data[seriesIndex].unit}`,\n        position: \"bottom\"\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 101,\n    columnNumber: 5\n  }, this);\n};\n_c6 = HomeFlowFertilizerPieChart;\nexport const HomeFlowWaterUsage = ({\n  data\n}) => {\n  return /*#__PURE__*/_jsxDEV(ApexChart, {\n    type: \"bar\",\n    series: [{\n      name: data.name,\n      data: data.sensor_total_flow_bar_graph.map(({\n        y\n      }) => y)\n    }],\n    options: {\n      chart: {\n        sparkline: {\n          enabled: true\n        }\n      },\n      tooltip: {\n        y: {\n          formatter: y => {\n            return `${y} ${data.unit}`;\n          }\n        }\n      },\n      xaxis: {\n        categories: data.sensor_total_flow_bar_graph.map(({\n          x\n        }) => x)\n      },\n      subtitle: {\n        text: data.name,\n        offsetX: 30\n      },\n      title: {\n        text: `${data.sensor_daily_total_flow} ${data.unit}`,\n        offsetX: 30\n      }\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n};\n_c7 = HomeFlowWaterUsage;\nexport const Dashboard = () => {\n  _s();\n\n  const {\n    farmId\n  } = useParams();\n  const [{\n    data,\n    loading,\n    error\n  }] = useAxios(`${API_URL}/${farmId}/dashboard`);\n  if (loading) return /*#__PURE__*/_jsxDEV(Preloader, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 160,\n    columnNumber: 23\n  }, this);\n  if (error) return \"Error\";\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      display: \"block\",\n      backgroundColor: \"#cad3de\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(AppName, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        alignItems: \"center\",\n        alignContent: \"center\",\n        justifyContent: \"center\",\n        padding: \"0.5rem\"\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: \"5rem\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-5 p-4 gap-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-400  rounded shadow-md\",\n          children: /*#__PURE__*/_jsxDEV(IrrigationProgress, {\n            data: data.irrigation_data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 177,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-400  rounded shadow-md\",\n          children: /*#__PURE__*/_jsxDEV(IrrigationTimeLeft, {\n            data: data.irrigation_data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-400  rounded shadow-md\",\n          children: /*#__PURE__*/_jsxDEV(IrrigationEC, {\n            data: data.irrigation_data\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), data.irrigation_data.pump_data.map((pump, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-400  rounded shadow-md\",\n          children: /*#__PURE__*/_jsxDEV(Pump, {\n            pump: pump\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 187,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 175,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 p-2\",\n        children: data.water_usage.map((waterUsageData, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-400  rounded shadow-md m-3 pt-4\",\n          children: /*#__PURE__*/_jsxDEV(HomeFlowWaterUsage, {\n            data: waterUsageData\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 15\n          }, this)\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-5\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-3 bg-gray-400 rounded shadow-md m-4\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full h-full\",\n            children: /*#__PURE__*/_jsxDEV(HomeFlowFertilizerBarChart, {\n              data: data.fertilizer_usage.bar_graph\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 201,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-span-2 bg-gray-400  rounded shadow-md flex-grow m-4 flex align-items\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-full\",\n            children: /*#__PURE__*/_jsxDEV(HomeFlowFertilizerPieChart, {\n              data: data.fertilizer_usage.pie_chart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 163,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Dashboard, \"mu++X8GOLkztQnrD8p2nf0dtHPs=\", false, function () {\n  return [useParams, useAxios];\n});\n\n_c8 = Dashboard;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8;\n\n$RefreshReg$(_c, \"AppName\");\n$RefreshReg$(_c2, \"IrrigationProgress\");\n$RefreshReg$(_c3, \"IrrigationTimeLeft\");\n$RefreshReg$(_c4, \"IrrigationEC\");\n$RefreshReg$(_c5, \"Pump\");\n$RefreshReg$(_c6, \"HomeFlowFertilizerPieChart\");\n$RefreshReg$(_c7, \"HomeFlowWaterUsage\");\n$RefreshReg$(_c8, \"Dashboard\");","map":{"version":3,"sources":["C:/Users/Grant/Desktop/Intelli-Farm-new/intelli-farm/src/pages/tables/Dashboard.js"],"names":["React","useParams","useAxios","Preloader","ApexChart","LinearProgress","withStyles","API_URL","HomeFlowFertilizerBarChart","AppName","display","alignItems","alignContent","justifyContent","fontFamily","fontSize","backgroundColor","color","width","border","position","drop","BorderLinearProgress","theme","root","height","borderRadius","colorPrimary","palette","grey","type","bar","IrrigationProgress","data","padding","fontWeight","marginTop","cycle_progress","IrrigationTimeLeft","irrigation_time_left","IrrigationEC","Pump","pump","status","main_flow","HomeFlowFertilizerPieChart","series","map","ratio","labels","name","legend","formatter","label","seriesIndex","value","unit","HomeFlowWaterUsage","sensor_total_flow_bar_graph","y","chart","sparkline","enabled","tooltip","xaxis","categories","x","subtitle","text","offsetX","title","sensor_daily_total_flow","Dashboard","farmId","loading","error","irrigation_data","pump_data","i","water_usage","waterUsageData","fertilizer_usage","bar_graph","pie_chart"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport useAxios from \"axios-hooks\";\r\nimport Preloader from \"../../components/Preloader\";\r\n\r\nimport ApexChart from \"react-apexcharts\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport \"./Dashboard.css\";\r\nimport { API_URL } from \"../../api\";\r\nimport drop from \"./drop.svg\";\r\nimport {HomeFlowFertilizerBarChart} from './HomeFlowFertilizerBarChart';\r\n\r\nexport const AppName = () => {\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{\r\n          display: \"inline-flex\",\r\n          alignItems: \"center\",\r\n          alignContent: \"center\",\r\n          justifyContent: \"center\",\r\n          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n          fontSize: \"3rem\",\r\n          backgroundColor: \"#293354\",\r\n          color: \"white\",\r\n          width:\"90%\",\r\n          border: \"1px 1px solid #184ea3\",\r\n          position:\"fixed\",\r\n        }}\r\n      >\r\n        Intelli-Farm <img src={drop} width={\"50rem\"} alt={drop} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n  root: {\r\n    height: 10,\r\n    borderRadius: 5\r\n  },\r\n  colorPrimary: {\r\n    backgroundColor:\r\n      theme.palette.grey[theme.palette.type === \"light\" ? 200 : 700]\r\n  },\r\n  bar: {\r\n    borderRadius: 5,\r\n    backgroundColor: \"#05ab24\"\r\n  }\r\n}))(LinearProgress);\r\n\r\nconst IrrigationProgress = ({ data }) => (\r\n  <div style={{ padding: \"1.5rem\" }}>\r\n    <h1>Irrigation</h1>\r\n    <h4 style={{ fontWeight: \"bold\", fontSize: \"1.5rem\" }}>Cycle Progress</h4>\r\n    <div style={{ marginTop: \"1rem\" }}>\r\n      <BorderLinearProgress variant=\"determinate\" value={data.cycle_progress} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst IrrigationTimeLeft = ({ data }) => (\r\n  <div\r\n    style={{\r\n      padding: \"1.5rem\",\r\n      alignItems: \"center\",\r\n      alignContent: \"center\",\r\n      justifyContent: \"center\"\r\n    }}\r\n  >\r\n    <h1 className=\".text-lg\">Irrigation Time Left</h1>\r\n    <h2 style={{ fontWeight: \"bold\", fontSize: \"1.5rem\" }}>\r\n      {data.irrigation_time_left}min left\r\n    </h2>\r\n  </div>\r\n);\r\n\r\nconst IrrigationEC = ({ data }) => (\r\n  <div style={{ padding: \"1.5rem\" }}>\r\n    <h1>EC Average</h1>\r\n    <h2 style={{ fontWeight: \"bold\", fontSize: \"1.5rem\" }}>2.93 mS</h2>\r\n    <h1>0.07 mS Below Target</h1>\r\n  </div>\r\n);\r\n\r\nconst Pump = ({ pump }) => (\r\n  <div style={{ padding: \"1.5rem\" }}>\r\n    <h1>Water Pump</h1>\r\n    <h2 style={{ fontWeight: \"bold\", fontSize: \"1.5rem\" }}>\r\n      Status: {pump.status}\r\n    </h2>\r\n    <h2>{pump.main_flow}</h2>\r\n  </div>\r\n);\r\n\r\nexport const HomeFlowFertilizerPieChart = ({ data }) => {\r\n  const series = data.map(({ ratio }) => ratio);\r\n  const labels = data.map(({ name }) => name);\r\n  return (\r\n    <ApexChart\r\n      type=\"donut\"\r\n      height={300}\r\n      series={series}\r\n      options={{\r\n        labels: labels,\r\n        legend: {\r\n          formatter: (label, { seriesIndex }) =>\r\n            `${label} - ${data[seriesIndex].value} ${data[seriesIndex].unit}`,\r\n          position: \"bottom\"\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const HomeFlowWaterUsage = ({ data }) => {\r\n  return (\r\n    <ApexChart\r\n      type=\"bar\"\r\n      series={[\r\n        {\r\n          name: data.name,\r\n          data: data.sensor_total_flow_bar_graph.map(({ y }) => y)\r\n        }\r\n      ]}\r\n      options={{\r\n        chart: {\r\n          sparkline: {\r\n            enabled: true\r\n          }\r\n        },\r\n        tooltip: {\r\n          y: {\r\n            formatter: (y) => {\r\n              return `${y} ${data.unit}`;\r\n            }\r\n          }\r\n        },\r\n        xaxis: {\r\n          categories: data.sensor_total_flow_bar_graph.map(({ x }) => x)\r\n        },\r\n        subtitle: {\r\n          text: data.name,\r\n          offsetX: 30\r\n        },\r\n        title: {\r\n          text: `${data.sensor_daily_total_flow} ${data.unit}`,\r\n          offsetX: 30\r\n        }\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport const Dashboard = () => {\r\n  const { farmId } = useParams();\r\n  const [{ data, loading, error }] = useAxios(`${API_URL}/${farmId}/dashboard`);\r\n\r\n  if (loading) return <Preloader />;\r\n  if (error) return \"Error\";\r\n  return (\r\n    <div style={{ display: \"block\", backgroundColor: \"#cad3de\" }}>\r\n      <AppName />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          alignContent: \"center\",\r\n          justifyContent: \"center\",\r\n          padding: \"0.5rem\",\r\n        }}\r\n      ></div>\r\n      <div style={{ marginTop: \"5rem\" }}>\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-5 p-4 gap-4\">\r\n          <div className=\"bg-gray-400  rounded shadow-md\">\r\n            <IrrigationProgress data={data.irrigation_data} />\r\n          </div>\r\n          <div className=\"bg-gray-400  rounded shadow-md\">\r\n            <IrrigationTimeLeft data={data.irrigation_data} />\r\n          </div>\r\n          <div className=\"bg-gray-400  rounded shadow-md\">\r\n            <IrrigationEC data={data.irrigation_data} />\r\n          </div>\r\n          {data.irrigation_data.pump_data.map((pump, i) => (\r\n            <div className=\"bg-gray-400  rounded shadow-md\">\r\n              <Pump key={i} pump={pump} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-3 p-2\">\r\n          {data.water_usage.map((waterUsageData, i) => (\r\n            <div className=\"bg-gray-400  rounded shadow-md m-3 pt-4\" key={i}>\r\n              <HomeFlowWaterUsage data={waterUsageData} />\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-5\">\r\n          <div className=\"col-span-3 bg-gray-400 rounded shadow-md m-4\">\r\n            <div className=\"w-full h-full\">\r\n              <HomeFlowFertilizerBarChart\r\n                data={data.fertilizer_usage.bar_graph}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"col-span-2 bg-gray-400  rounded shadow-md flex-grow m-4 flex align-items\">\r\n            <div className=\"w-full\">\r\n              <HomeFlowFertilizerPieChart\r\n                data={data.fertilizer_usage.pie_chart}\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n"]},"metadata":{},"sourceType":"module"}