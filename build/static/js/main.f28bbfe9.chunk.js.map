{"version":3,"sources":["routes.js","images/leaf.png","media-query.js","components/Sidebar.js","images/Logo.png","components/Navbar.js","api.js","components/Login.js","images/PreloaderBar.gif","pages/Users.js","components/Preloader.js","images/ErrorGif.gif","components/Timer.js","pages/LandingPage.js","images/drop.png","pages/Control.js","immutable.js","components/charts/BrushChart.js","components/AxiosSpinner.js","components/charts/FertilizerBarChart.js","images/citrus.png","images/greendrop.gif","pages/IrrigationControl.js","images/valve.png","images/grapes.png","components/charts/LineChart.js","components/charts/FertilizerPieChart.js","pages/Fertilizer.js","images/fertilizer.png","images/ec_valve.png","pages/IrrigationSchedule.js","pages/Dashboard.js","pages/Report.js","pages/Backwash.js","images/water_filter.png","pages/Notifications.js","images/pump.png","pages/HomePage.js","pages/Pumps.js","components/ScrollToTop.js","index.js"],"names":["Routes","LandingPage","path","Logout","NotFound","Users","Control","useMd","useMediaQuery","SidebarContext","createContext","NavItem","title","link","external","target","image","onClick","activeClassName","active","linkProps","href","as","Link","to","Nav","Item","className","Image","src","width","CollapsableNavItem","props","eventKey","children","Accordion","Button","Body","navItemToLinks","item","action","type","items","flatMap","toNavItem","i","some","pathname","onLinkClick","style","gap","padding","leaf","alt","fontFamily","map","height","Error","Sidebar","useLocation","location","isMd","useContext","show","setShow","useCallback","Navbar","AppBar","position","fontSize","backgroundColor","color","Logo","API_URLS","getApiUrl","window","hostname","split","name","useApi","config","apiUrl","urlFromPath","url","LoginContext","loginOpen","setLoginOpen","token","localStorage","getItem","decoratedUrl","Object","assign","headers","Authorization","useAxios","result","fetch","useState","retry","setRetry","error","loading","authorized","e","response","includes","status","useEffect","decoratedFetch","a","args","data","isAxiosError","Promise","resolve","reject","then","catch","post","method","manual","Login","loginUrl","username","setUsername","password","setPassword","message","setMessage","postLogin","onClose","Dialog","open","onSubmit","preventDefault","console","log","access_token","setItem","TextField","label","value","onInput","variant","d","logoutUrl","redirect","state","setState","postLogout","clear","hash","reload","convertMessage","values","RegUser","clientId","useParams","postRegistration","confirmPassword","setConfirmPassword","valid","validConfirm","handleSubmit","visibility","PreloaderBar","disabled","display","alignContent","justifyContent","ChangeUser","postPassword","Preloader","marginTop","minHeight","alignItems","useRefetch","refetch","refresh","period","interval","setInterval","clearInterval","Font","withStyles","theme","root","borderRadius","colorPrimary","palette","grey","bar","LinearProgress","FarmsData","farm","water_total","ProgressBar","animated","now","irrigation_percentage","ec_value","ec_target","ErrorGif","gridTemplateColumns","landing_page","farms","ControlPanel","farmId","prefix","postMode1","postMode","postBlockControl1","postBlockControl","postProcessHold","postAlarmReset","postStop","setPosting","key","onMode","usePost","onMode1","onBlockControl","onBlockControl1","onProcessHold","onAlarmReset","onStop","timestamp","mode","block_control","alarms","TableContainer","component","Paper","sx","Table","minWidth","TableHead","TableRow","TableCell","align","fontWeight","handle","set","useMemo","p","finally","zeroPad","number","zeros","toString","padStart","ControlGroup","index","onChange","TimeControl","k","start_time","runtime","ec","handleStartTime","handleRunTime","handleEC","textAlign","InputLabelProps","shrink","Tank","tanks","letter","toUpperCase","field","handleFlowRate","tank","Tab","onSave","Tables","setValue","handleSave","handleChange","datum","arr","idx","val","slice","length","flat","BrushChartTooltip","this","x","y","cornerRadius","pointerLength","flyoutWidth","dy","renderInPortal","React","Component","defaultEvents","VictoryTooltip","VictoryZoomVoronoiContainer","createContainer","BrushChart","setTarget","size","setSize","useLayoutEffect","getBoundingClientRect","useResizeObserver","entry","contentRect","useSize","domain","reduce","dStart","dEnd","Math","min","max","Infinity","date","Date","zoomDomain","setZoomDomain","axis","stroke","strokeWidth","tickLabels","grid","strokeDasharray","fill","ref","marginLeft","marginBottom","left","bottom","scale","containerComponent","touchAction","zoomDimension","voronoiDimension","allowPan","allowZoom","fixLabelOverlap","gridComponent","dependentAxis","barRatio","labels","moment","format","toFixed","labelComponent","brushDimension","brushDomain","onBrushDomainChangeEnd","RenderErrorLogger","AxiosSpinner","RenderData","renderData","callHook","renderError","RenderError","FertilizerBarChart","today","dates","setDate","getDate","getDayName","getDay","days","series","Array","from","Set","seriesName","find","dayUsage","goals","strokeHeight","strokeLineCap","strokeColor","options","chart","toolbar","tooltip","formatter","_","dataPointIndex","unit","xaxis","categories","plotOptions","endingShape","columnWidth","dataLabels","enabled","text","offsetX","offsetY","images","main_valve","opened","greendrop","citrus","grape","unknown","EquipmentStatus","cultivar","getImageFor","timeLeft","time_left","real_time_flow","real_time_flow_target","total_flow","alarm","LineChart","dateStart","truncatedData","findIndex","takeWhile","z","line","overflow","tooltipOptions","sortKey","interpolation","FertilizerPieChart","ratio","Number","legend","seriesIndex","FertilizerValve","valve","ECValve","setpoint","DateTimeEditInputCell","id","api","dateFormat","editedDate","editedValue","setEditCellValue","dateAdapter","MomentUtils","renderInput","margin","helperText","inputFormat","sectionColumns","headerName","editable","renderEditCell","column","flex","SectionTable","section","sql_index","handleCellEditCommit","editedSection","hideFooter","autoHeight","rows","columns","isCellEditable","colDef","onCellEditCommit","fertilizerColumns","FertilizerTable","fertilizers","fertilizer","editedFertilizer","editedFertilizers","SectionRow","IrrigationProgress","cycle_progress","IrrigationTimeLeft","next_start_time","IrrigationEC","ec_data","Pump","pump","main_flow","HomeFlowWaterUsage","sensor_total_flow_bar_graph","sparkline","subtitle","sensor_daily_total_flow","DatePickers","EmailInput","SaveButton","border","BackwashItem","backwash","BackwashProgress","backwash_status","percentage_left","useHandler","setter","useChecked","checked","UserForm","order","email_address","cellphone_number","notification_type","alarms_enabled","start_enabled","whatsapp_api_key","schedule_enabled","handleEmailAddress","handleCellphoneNumber","handleNotificationType","handleWhatsapp_api_key","handleAlarmsEnabled","handleStartEnabled","FormControl","InputLabel","Select","MenuItem","FormGroup","row","FormControlLabel","control","Checkbox","AppLayout","farm_pages","dashboard","page","irrigation_data","pump_data","water_usage","waterUsageData","fertilizer_usage","bar_graph","pie_chart","pie_chart_recommended","schedule","setDirty","setSchedule","editedSchedule","fertilizer_valves","ec_values","ec_history","datetime","fertilizer_bargraph","fertilizer_pie_chart","fertilizer_pie_chart_recommended","irrigation","use","irrigation_valve","rest","pumps","pressure","backwash_valves","notifications","postLoading","postNotification","user","report","email","setEmail","postReport","start_date","farm_order","FarmRoutes","exact","getBrandItem","getFarmItems","layout","entries","farmName","pages","filter","pageName","spacerItem","growItem","getBottomItems","WithSidebar","fullSidebar","appLayout","navItems","company_name","getNavItems","RouteInner","Provider","replace","HomePage","showSidebar","setShowSidebar","ScrollToTop","scrollTo","top","behavior","createTheme","ReactDOM","render","ThemeProvider","document","getElementById"],"mappings":"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","file":"static/js/main.f28bbfe9.chunk.js","sourcesContent":["/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 07/10/2021 - 09:36:38\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 07/10/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nexport const Routes = {\r\n  LandingPage: { path: \"/:clientId\" },\r\n  Logout: { path: \"/:clientId/logout\" },\r\n  NotFound: { path: \"/:clientId/notfound\" },\r\n  Users: { path: \"/:clientId/users\" },\r\n  Control: { path: \"/:clientId/controller_state\" },\r\n};\r\n","export default \"data:image/png;base64,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\"","import { useMediaQuery } from \"@react-hook/media-query\";\r\n\r\nexport const useMd = () => useMediaQuery(\"(max-width : 767px)\");\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 11/08/2021 - 08:12:28\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 11/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, {\r\n  useState,\r\n  useContext,\r\n  createContext,\r\n  useEffect,\r\n  useCallback,\r\n} from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport leaf from \"images/leaf.png\";\r\nimport { Nav, Image, Button, Accordion } from \"@themesberg/react-bootstrap\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useMd } from \"media-query\";\r\n\r\nexport const SidebarContext = createContext();\r\n\r\nconst NavItem = ({ title, link, external, target, image, onClick, active }) => {\r\n  const activeClassName = active ? \"active\" : \"\";\r\n  const linkProps = external ? { href: link } : { as: Link, to: link };\r\n\r\n  return (\r\n    <Nav.Item className={activeClassName}>\r\n      <Nav.Link {...linkProps} target={target} onClick={onClick}>\r\n        <span className=\"flex\">\r\n          {image && <Image src={image} width=\"40rem\" />}\r\n          <span className=\"sidebar-text\">{title}</span>\r\n        </span>\r\n      </Nav.Link>\r\n    </Nav.Item>\r\n  );\r\n};\r\n\r\nconst CollapsableNavItem = (props) => {\r\n  const { eventKey, title, active, children = null } = props;\r\n  const activeClassName = active ? \"active\" : \"\";\r\n  return (\r\n    <Accordion as={Nav.Item} className={activeClassName}>\r\n      <Accordion.Item className={`border-0 bg-blue-500`} eventKey={eventKey}>\r\n        <Accordion.Button\r\n          as={Nav.Link}\r\n          className=\"d-flex justify-content-between align-items-center bg-red-900\"\r\n        >\r\n          <span>\r\n            <span className=\"sidebar-icon\"></span>\r\n            <span className=\"sidebar-text\">{title}</span>\r\n          </span>\r\n        </Accordion.Button>\r\n        <Accordion.Body className=\"multi-level\">\r\n          <Nav className=\"pl-2 flex-column\">{children}</Nav>\r\n        </Accordion.Body>\r\n      </Accordion.Item>\r\n    </Accordion>\r\n  );\r\n};\r\n\r\nconst navItemToLinks = (item) => {\r\n  switch (item.action.type) {\r\n    case \"link\":\r\n      return [item.action.path];\r\n    case \"accordion\":\r\n      return item.action.items.flatMap((item) => navItemToLinks(item));\r\n    default:\r\n      return [];\r\n  }\r\n};\r\n\r\nconst toNavItem = (item, i, props) => {\r\n  const links = navItemToLinks(item);\r\n  const active = links.some((link) => link == props.pathname);\r\n  switch (item.action.type) {\r\n    case \"brand\":\r\n      return (\r\n        <div key={i} className=\"border-1 border-white rounded\">\r\n          <Nav.Link\r\n            as={Link}\r\n            to={item.action.path}\r\n            className=\"h-full w-full\"\r\n            onClick={props.onLinkClick}\r\n          >\r\n            <div\r\n              className=\"flex justify-center\"\r\n              style={{\r\n                gap: \"0.5rem\",\r\n                padding: \"0.5rem\",\r\n              }}\r\n            >\r\n              <img src={leaf} width=\"40rem\" alt={leaf} />\r\n              <span\r\n                className=\"font-bold text-4xl ml-3\"\r\n                style={{ fontFamily: \"'Raleway', sans-serif\" }}\r\n              >\r\n                {item.title}\r\n              </span>\r\n            </div>\r\n          </Nav.Link>\r\n        </div>\r\n      );\r\n    case \"link\":\r\n      return (\r\n        <NavItem\r\n          key={i}\r\n          title={item.title}\r\n          link={item.action.path}\r\n          image={item.image}\r\n          onClick={props.onLinkClick}\r\n          active={active}\r\n        />\r\n      );\r\n    case \"accordion\":\r\n      return (\r\n        <CollapsableNavItem\r\n          key={i}\r\n          title={item.title}\r\n          eventKey={item.title}\r\n          image={item.image}\r\n          active={active}\r\n        >\r\n          {item.action.items.map((item, i) => toNavItem(item, i, props))}\r\n        </CollapsableNavItem>\r\n      );\r\n    case \"grow\":\r\n      return <div key={i} className=\"flex-grow-1\" />;\r\n    case \"spacer\":\r\n      return <div key={i} style={{ height: \"2.5rem\" }} />;\r\n    default:\r\n      throw Error(\"impossible\");\r\n  }\r\n};\r\n\r\nexport const Sidebar = ({ items }) => {\r\n  const { location, pathname } = useLocation();\r\n  const isMd = useMd();\r\n  const [show, setShow] = useContext(SidebarContext);\r\n\r\n  const onLinkClick = useCallback(() => {\r\n    if (isMd) {\r\n      setShow(false);\r\n    }\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={`sidebar ${\r\n        show ? \"\" : \"hidden\"\r\n      } flex-shrink-0 text-white overflow-y-auto h-full`}\r\n    >\r\n      <Nav\r\n        style={{ fontFamily: \"'Raleway', sans-serif\" }}\r\n        className=\"sidebar-inner min-h-full p-3 flex flex-col flex-nowrap pt-3 pb-3\"\r\n      >\r\n        {items.map((item, i) => toNavItem(item, i, { onLinkClick, pathname }))}\r\n      </Nav>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/Logo.5445be77.png\";","import React, { useContext } from \"react\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Logo from \"images/Logo.png\";\r\nimport { SidebarContext } from \"components/Sidebar\";\r\n\r\nexport const Navbar = () => {\r\n  const [, setShow] = useContext(SidebarContext);\r\n  const toggleShow = () => {\r\n    setShow((show) => !show);\r\n  };\r\n\r\n  return (\r\n    <AppBar position=\"static\">\r\n      <div\r\n        className=\"flex align-items-center w-full\"\r\n        style={{\r\n          fontFamily: \"'Noto Sans JP', sans-serif\",\r\n          fontSize: \"3rem\",\r\n          backgroundColor: \"#1e96ff\",\r\n          color: \"white\",\r\n          padding: \"0.5rem\",\r\n        }}\r\n      >\r\n        <button className=\"btn\" onClick={toggleShow}>\r\n          <span className=\"navbar-toggler-icon\" />\r\n        </button>\r\n        <div className=\"flex-grow-1 flex justify-content-center\">\r\n          <img width={250} src={Logo} alt={Logo} />\r\n        </div>\r\n      </div>\r\n    </AppBar>\r\n  );\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 11/10/2021 - 09:50:03\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 11/10/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport useAxios from \"axios-hooks\";\r\nimport { useEffect, useContext, useState, useCallback } from \"react\";\r\nimport { LoginContext } from \"components/Login\";\r\n\r\nconst API_URLS = {\r\n  \"intelli-farm-qc\": \"https://lodicon-api-qc.herokuapp.com/api/v1\",\r\n};\r\n\r\nexport const getApiUrl = () => {\r\n  const { hostname } = window.location;\r\n  const [name] = hostname.split(\".\", 2);\r\n  const url = API_URLS[name] || API_URLS[\"intelli-farm-qc\"];\r\n  return url;\r\n};\r\n\r\nexport const useApi = (path, config) => {\r\n  const apiUrl = getApiUrl();\r\n  const urlFromPath = (path) => `${apiUrl}${path}`;\r\n  const url =\r\n    typeof path == \"string\"\r\n      ? { url: urlFromPath(path) }\r\n      : { ...path, url: urlFromPath(path.url) };\r\n  const [loginOpen, setLoginOpen] = useContext(LoginContext);\r\n  const token = localStorage.getItem(\"token\");\r\n  const decoratedUrl = Object.assign({}, url, {\r\n    headers: token ? { Authorization: `Bearer ${token}` } : {},\r\n  });\r\n  const [result, fetch] = useAxios(decoratedUrl, config);\r\n  const [retry, setRetry] = useState(null);\r\n  const { error, loading } = result;\r\n  const authorized = (e) =>\r\n    !(e && e.response && [401, 403].includes(e.response.status));\r\n\r\n  useEffect(() => {\r\n    if (!authorized(error)) {\r\n      setLoginOpen(true);\r\n    }\r\n  }, [error, setLoginOpen]);\r\n\r\n  useEffect(\r\n    () => {\r\n      if (!loginOpen && retry) {\r\n        setRetry(null);\r\n        retry();\r\n      }\r\n    },\r\n    // Here we explicitly don't want the effect to rerun when retry is changed\r\n    // eslint-disable-next-line\r\n    [loginOpen]\r\n  );\r\n\r\n  const decoratedFetch = useCallback(\r\n    async (...args) => {\r\n      const data = await fetch(...args);\r\n      if (data && data.isAxiosError) {\r\n        const error = data;\r\n        if (authorized(error)) {\r\n          throw error;\r\n        } else {\r\n          return new Promise((resolve, reject) => {\r\n            setRetry((retry) => () => {\r\n              retry && retry();\r\n              decoratedFetch(...args)\r\n                .then(resolve)\r\n                .catch(reject);\r\n            });\r\n            setLoginOpen(true);\r\n          });\r\n        }\r\n      }\r\n      return data;\r\n    },\r\n    [fetch, setLoginOpen]\r\n  );\r\n\r\n  return [\r\n    Object.assign({}, result, {\r\n      loading: !authorized(error) || loading,\r\n      error: authorized(error) ? error : null,\r\n    }),\r\n    decoratedFetch,\r\n  ];\r\n};\r\n\r\nexport const post = (url) => [\r\n  {\r\n    url,\r\n    method: \"POST\",\r\n    headers: {\r\n      \"content-type\": \"application/json\",\r\n    },\r\n  },\r\n  {\r\n    manual: true,\r\n  },\r\n];\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 15/09/2021 - 11:43:11\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 15/09/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { createContext, useContext, useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\n\r\nimport useAxios from \"axios-hooks\";\r\nimport { useApi, getApiUrl } from \"api\";\r\n\r\nexport const LoginContext = createContext();\r\n\r\nexport const Login = ({ loginUrl }) => {\r\n  const [loginOpen, setLoginOpen] = useContext(LoginContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const [, postLogin] = useAxios(\r\n    {\r\n      url: `${getApiUrl()}${loginUrl}`,\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    },\r\n    {\r\n      manual: true,\r\n    }\r\n  );\r\n\r\n  const onClose = () => setLoginOpen(false);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n\r\n    postLogin({ data: { username, password } })\r\n      .then((result) => {\r\n        const data = result.data || result.response.data;\r\n\r\n        console.log(result.data.message);\r\n\r\n        if (data.access_token) {\r\n          localStorage.setItem(\"token\", data.access_token);\r\n          onClose();\r\n          setMessage(result.data.message);\r\n        }\r\n        if (data.status == 403) {\r\n          setMessage(result.data.message);\r\n        }\r\n      })\r\n      .catch((error) => {\r\n        const data = error.data || error.response.data;\r\n        setMessage(data.message);\r\n      });\r\n  }\r\n\r\n  return (\r\n    <Dialog open={loginOpen} onClose={onClose}>\r\n      <form className=\"flex flex-col space-y-4 p-4\" onSubmit={handleSubmit}>\r\n        <div className=\"font-bold align-self-center\">Credentials</div>\r\n        <TextField\r\n          label=\"User Name\"\r\n          type=\"text\"\r\n          value={username}\r\n          onInput={(e) => setUsername(e.target.value)}\r\n          variant=\"outlined\"\r\n        />\r\n        <TextField\r\n          label=\"Password\"\r\n          type=\"password\"\r\n          value={password}\r\n          onInput={(d) => setPassword(d.target.value)}\r\n          variant=\"outlined\"\r\n        />\r\n        <Button type=\"submit\" variant=\"contained\" color=\"primary\">\r\n          <div style={{ color: \"white\" }}>Login</div>\r\n        </Button>\r\n        <div className=\"text-gray-800 text-center\">{message}</div>\r\n      </form>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport const Logout = ({ logoutUrl, redirect }) => {\r\n  const [state, setState] = useState({ type: \"message\", message: \"\" });\r\n  const [, postLogout] = useApi(\r\n    {\r\n      url: logoutUrl,\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    },\r\n    {\r\n      manual: true,\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    postLogout()\r\n      .then(() => {\r\n        localStorage.clear(\"token\");\r\n        setState({ type: \"redirect\" });\r\n      })\r\n      .catch(() =>\r\n        setState({\r\n          type: \"message\",\r\n          message: \"Something happened when logging out.\",\r\n        })\r\n      );\r\n  }, [postLogout]);\r\n\r\n  switch (state.type) {\r\n    case \"message\":\r\n      return <p>{state.message}</p>;\r\n    case \"redirect\":\r\n      window.location.hash = redirect;\r\n      window.location.reload();\r\n      return <></>;\r\n    default:\r\n      throw new Error(\"Impossible\");\r\n  }\r\n};\r\n","export default __webpack_public_path__ + \"static/media/PreloaderBar.fcec3ecb.gif\";","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 01/10/2021 - 13:11:37\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 01/10/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { useState, useCallback } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { useApi } from \"api\";\r\nimport PreloaderBar from \"images/PreloaderBar.gif\";\r\n\r\nconst convertMessage = (message) =>\r\n  typeof message == \"string\" ? message : Object.values(message)[0];\r\n\r\nconst RegUser = () => {\r\n  const { clientId } = useParams();\r\n\r\n  const [{ loading }, postRegistration] = useApi(\r\n    {\r\n      url: `/${clientId}/app1/registration`,\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    },\r\n    {\r\n      manual: true,\r\n    }\r\n  );\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const valid = password == confirmPassword;\r\n  const validConfirm = confirmPassword == \"\" || valid;\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      if (valid) {\r\n        postRegistration({ data: { username, password } })\r\n          .then((result) => {\r\n            const message = result.data.message;\r\n            setMessage(message);\r\n          })\r\n          .catch((error) => {\r\n            const message = convertMessage(error.response.data.message);\r\n            setMessage(message);\r\n          });\r\n      }\r\n    },\r\n    [username, password, confirmPassword, valid]\r\n  );\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"bg-gray-200 shadow-md rounded p-2\">\r\n      <h1 className=\"text-center font-bold text-lg\">Register New User</h1>\r\n\r\n      <div className=\"grid grid-rows-3 p-2 gap-2\">\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <TextField\r\n            onInput={(e) => setUsername(e.target.value)}\r\n            type=\"username\"\r\n            value={username}\r\n            label=\"User Name\"\r\n            variant=\"outlined\"\r\n          ></TextField>\r\n        </div>\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <TextField\r\n            onInput={(e) => setPassword(e.target.value)}\r\n            type=\"password\"\r\n            value={password}\r\n            label=\"Password\"\r\n            variant=\"outlined\"\r\n          ></TextField>\r\n        </div>\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <TextField\r\n            type=\"password\"\r\n            onInput={(e) => setConfirmPassword(e.target.value)}\r\n            value={confirmPassword}\r\n            error={!validConfirm}\r\n            label=\"Confirm Password\"\r\n            variant=\"outlined\"\r\n          ></TextField>\r\n        </div>\r\n        <div className=\"text-gray-800 text-center\">{message}</div>\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <img\r\n            style={{ visibility: loading ? \"visible\" : \"hidden\" }}\r\n            width={50}\r\n            height={50}\r\n            src={PreloaderBar}\r\n            alt={PreloaderBar}\r\n          />\r\n        </div>\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            disabled={!valid}\r\n            className=\"border-1 border-white text-center\"\r\n            style={{\r\n              display: \"inline-block\",\r\n              alignContent: \"center\",\r\n              justifyContent: \"center\",\r\n              fontFamily: \"Nunito Sans\",\r\n              backgroundColor: \"steelblue\",\r\n              color: \"white\",\r\n              fontSize: \"1rem\",\r\n              width: \"50%\",\r\n            }}\r\n          >\r\n            Save\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst ChangeUser = () => {\r\n  const { clientId } = useParams();\r\n  const [{ loading }, postPassword] = useApi(\r\n    {\r\n      url: `/${clientId}/app1/password`,\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    },\r\n    {\r\n      manual: true,\r\n    }\r\n  );\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const [confirmPassword, setConfirmPassword] = useState(\"\");\r\n  const valid = password == confirmPassword;\r\n  const validConfirm = confirmPassword == \"\" || valid;\r\n\r\n  const [message, setMessage] = useState(\"\");\r\n\r\n  const handleSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      if (valid) {\r\n        postPassword({ data: { password, username: \"\" } })\r\n          .then((result) => {\r\n            const message = result.data.message;\r\n            setMessage(message);\r\n          })\r\n          .catch((error) => {\r\n            const message = convertMessage(error.response.data.message);\r\n            setMessage(message);\r\n          });\r\n      }\r\n    },\r\n    [password, confirmPassword]\r\n  );\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"bg-gray-200 shadow-md rounded p-2\">\r\n      <h1 className=\"text-center font-bold text-lg\">Change User Credentials</h1>\r\n      <div className=\"grid grid-rows-3 p-2 gap-2\">\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <TextField\r\n            onInput={(e) => setPassword(e.target.value)}\r\n            value={password}\r\n            type=\"password\"\r\n            label=\"Password\"\r\n            variant=\"outlined\"\r\n          ></TextField>\r\n        </div>\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <TextField\r\n            onInput={(e) => setConfirmPassword(e.target.value)}\r\n            value={confirmPassword}\r\n            error={!validConfirm}\r\n            type=\"password\"\r\n            label=\"Confirm Password\"\r\n            variant=\"outlined\"\r\n          ></TextField>\r\n        </div>\r\n        <div className=\"text-gray-800 text-center\">{message}</div>\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <img\r\n            style={{ visibility: loading ? \"visible\" : \"hidden\" }}\r\n            width={50}\r\n            height={50}\r\n            src={PreloaderBar}\r\n            alt={PreloaderBar}\r\n          />\r\n        </div>\r\n        <div className=\"flex align-center justify-center items-center\">\r\n          <Button\r\n            disabled={!valid}\r\n            type=\"submit\"\r\n            className=\"border-1 border-white text-center\"\r\n            style={{\r\n              display: \"inline-block\",\r\n              alignContent: \"center\",\r\n              justifyContent: \"center\",\r\n              fontFamily: \"Nunito Sans\",\r\n              color: \"white\",\r\n              backgroundColor: \"steelblue\",\r\n              fontSize: \"1rem\",\r\n              width: \"50%\",\r\n            }}\r\n          >\r\n            Save\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nexport const Users = () => (\r\n  <div className=\"p-4 flex items-center justify-center align-center\">\r\n    <div className=\"grid grid-rows-2 gap-2\">\r\n      <RegUser />\r\n      <ChangeUser />\r\n    </div>\r\n  </div>\r\n);\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 27/08/2021 - 11:36:57\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 27/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React from \"react\";\r\nimport PreloaderBar from \"images/PreloaderBar.gif\";\r\n\r\nexport const Preloader = (props) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        marginTop: \"100px\",\r\n        minHeight: \"600px\",\r\n        alignItems: \"center\",\r\n        alignContent: \"center\",\r\n        justifyContent: \"center\",\r\n      }}\r\n    >\r\n      <div>\r\n        <img src={PreloaderBar} alt={PreloaderBar} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/ErrorGif.5bde96f9.gif\";","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 26/08/2021 - 10:44:59\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 26/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\n\r\nimport { useEffect } from \"react\";\r\n\r\nexport const useRefetch = (refetch, refresh = true, period = 60000) =>\r\n  useEffect(() => {\r\n    if (refresh) {\r\n      const interval = setInterval(() => {\r\n        refetch();\r\n      }, period);\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [refetch, refresh]);\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 10/08/2021 - 15:19:43\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 10/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport { useParams } from \"react-router\";\r\nimport { useApi } from \"api\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport ErrorGif from \"images/ErrorGif.gif\";\r\nimport { useRefetch } from \"../components/Timer\";\r\nimport { Image, ProgressBar } from \"@themesberg/react-bootstrap\";\r\nimport drop from \"images/drop.png\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n  root: {\r\n    height: 10,\r\n    borderRadius: 6,\r\n  },\r\n  colorPrimary: {\r\n    backgroundColor:\r\n      theme.palette.grey[theme.palette.type === \"dark\" ? 200 : 700],\r\n  },\r\n  bar: {\r\n    borderRadius: 6,\r\n    backgroundColor: \"#05ab24\",\r\n  },\r\n}))(LinearProgress);\r\n\r\nvar Font = \"'Raleway', sans-serif\";\r\n\r\nconst FarmsData = ({ farm }) => (\r\n  <div className=\"p-2\">\r\n    <div className=\"grid grid-cols-2 gap-2 p-1\">\r\n      <div className=\"inline-flex align-center justify-start shadow-md rounded p-1 \">\r\n        <div style={{ width: 40 }} className=\"flex-shrink-0 flex items-center\">\r\n          <Image width={40} height={40} src={drop} />\r\n        </div>\r\n        <div className=\"flex-grow-1 flex flex-col justify-center\">\r\n          <span\r\n            style={{ fontFamily: { Font } }}\r\n            className=\"font-bold text-md text-center\"\r\n          >\r\n            {farm.name}\r\n          </span>\r\n        </div>\r\n      </div>\r\n      <div className=\"inline-block shadow-md text-center rounded p-1\">\r\n        <div\r\n          style={{ fontFamily: { Font } }}\r\n          className=\"font-bold rounded text-md mt-2 \"\r\n        >\r\n          Water Supply <div>{farm.water_total} m/h</div>\r\n        </div>\r\n      </div>\r\n      <div className=\"p-2 shadow-md text-center rounded \">\r\n        <div\r\n          style={{ fontFamily: { Font } }}\r\n          className=\"font-bold text-md pb-2\"\r\n        >\r\n          Irrigation\r\n        </div>\r\n        <div className=\"p-2\">\r\n          <ProgressBar\r\n            variant=\"success\"\r\n            animated\r\n            now={farm.irrigation_percentage}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"p-2 shadow-md text-center rounded\">\r\n        <div\r\n          style={{ fontFamily: { Font } }}\r\n          className=\"font-bold text-md pb-2\"\r\n        >\r\n          EC\r\n        </div>\r\n        <div style={{ fontFamily: { Font } }} className=\"font-bold text-sm\">\r\n          Value: {farm.ec_value} S\r\n        </div>\r\n        <div style={{ fontFamily: { Font } }} className=\"font-bold text-sm\">\r\n          Target: {farm.ec_target} S\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n);\r\nexport const LandingPage = () => {\r\n  const { clientId } = useParams();\r\n  const [{ data, loading, error }, refetch] = useApi(`/${clientId}/landing`);\r\n\r\n  useRefetch(refetch);\r\n\r\n  if (!data && loading) return <Preloader />;\r\n  if (error) return <img src={ErrorGif} alt={ErrorGif} />;\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        gridTemplateColumns: \"repeat(auto-fill, minmax(350px, 1fr)\",\r\n      }}\r\n      className=\"grid p-2\"\r\n    >\r\n      {data.landing_page.farms.map((farm, i) => (\r\n        <div key={i} className=\"flex-1 bg-gray-300 rounded shadow-md m-3 pt-1\">\r\n          <FarmsData farm={farm} />\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,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\"","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 07/10/2021 - 09:26:16\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 07/10/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { useState, useMemo, useEffect, useCallback } from \"react\";\r\nimport { useRefetch } from \"components/Timer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useApi, post } from \"api\";\r\nimport { Button } from \"@mui/material\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport Table from \"@mui/material/Table\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\nimport { setAt } from \"immutable\";\r\nimport TextField from \"@mui/material/TextField\";\r\nimport TimePicker from \"react-time-picker\";\r\n\r\nimport Accordion from \"@mui/material/Accordion\";\r\nimport AccordionSummary from \"@mui/material/AccordionSummary\";\r\nimport AccordionDetails from \"@mui/material/AccordionDetails\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport ExpandMoreIcon from \"@mui/icons-material/ExpandMore\";\r\n\r\nimport axios from \"axios\";\r\n\r\nconst baseURL =\r\n  \"https://lodicon-api-qc.herokuapp.com/api/v1/-2147482685/irrigation_schedule_manual\";\r\n\r\n\r\nconst ControlPanel = ({}) => {\r\n  const { farmId } = useParams();\r\n  const prefix = `/-${farmId}`;\r\n  const [{ data, loading: loadingData }, refetch] = useApi(\r\n    `${prefix}/controller_state`\r\n  );\r\n  useRefetch(refetch, true, 10000);\r\n\r\n  const [, postMode1] = useApi(...post(`${prefix}/mode`));\r\n  const [, postMode] = useApi(...post(`${prefix}/mode`));\r\n  const [, postBlockControl1] = useApi(...post(`${prefix}/block_control`));\r\n  const [, postBlockControl] = useApi(...post(`${prefix}/block_control`));\r\n  const [, postProcessHold] = useApi(...post(`${prefix}/process_hold`));\r\n  const [, postAlarmReset] = useApi(...post(`${prefix}/alarm_reset`));\r\n  const [, postStop] = useApi(...post(`${prefix}/stop`));\r\n\r\n  const [posting, setPosting] = useState(0);\r\n\r\n  const loading = loadingData || posting > 0;\r\n\r\n  const d = (key, value) => ({ data: { [key]: value } });\r\n\r\n  const onMode = usePost(() => postMode(d(\"mode\", 2)), refetch, setPosting);\r\n  ///\r\n  const onMode1 = usePost(() => postMode1(d(\"mode\", 1)), refetch, setPosting);\r\n  ///\r\n  const onBlockControl = usePost(\r\n    () => postBlockControl(d(\"block_control\", 1)),\r\n    refetch,\r\n    setPosting\r\n  );\r\n  ///\r\n  const onBlockControl1 = usePost(\r\n    () => postBlockControl1(d(\"block_control\", 2)),\r\n    refetch,\r\n    setPosting\r\n  );\r\n  ///\r\n\r\n  const onProcessHold = usePost(\r\n    () => postProcessHold(d(\"process_hold\", 1)),\r\n    refetch,\r\n    setPosting\r\n  );\r\n\r\n  const onAlarmReset = usePost(\r\n    () => postAlarmReset(d(\"alarm_reset\", 1)),\r\n    refetch,\r\n    setPosting\r\n  );\r\n\r\n  const onStop = usePost(() => postStop(d(\"stop\", 1)), refetch, setPosting);\r\n\r\n  const defaultData = {\r\n    timestamp: \"2021-11-10-14:28:11\",\r\n    mode: \"Manual\",\r\n    block_control: \"Manual Date Time\",\r\n    state: \"unknown\",\r\n    alarms: \"Inactive\",\r\n  };\r\n\r\n  const { timestamp, mode, block_control, state, alarms } = data || defaultData;\r\n\r\n  return (\r\n    <div className=\"block items-center p-1\">\r\n      <div className=\"mb-2 \">\r\n        <TableContainer component={Paper} sx={{ backgroundColor: \"#eaedf2\" }}>\r\n          <Table sx={{ minWidth: 200 }} aria-label=\"simple table\">\r\n            <TableHead>\r\n              <TableRow>\r\n                <TableCell align=\"center\">\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"0.8rem\",\r\n                      display: \"inline-flex\",\r\n                      fontFamily: \"Nunito Sans\",\r\n                    }}\r\n                  >\r\n                    Controller Time\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"0.8rem\",\r\n                      display: \"inline-flex\",\r\n                      fontFamily: \"Nunito Sans\",\r\n                    }}\r\n                  >\r\n                    Alarms\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"0.8rem\",\r\n                      display: \"inline-flex\",\r\n                      fontFamily: \"Nunito Sans\",\r\n                    }}\r\n                  >\r\n                    State\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"0.8rem\",\r\n                      display: \"inline-flex\",\r\n                      fontFamily: \"Nunito Sans\",\r\n                    }}\r\n                  >\r\n                    Mode\r\n                  </div>\r\n                </TableCell>\r\n                <TableCell align=\"center\">\r\n                  <div\r\n                    style={{\r\n                      fontWeight: \"bold\",\r\n                      fontSize: \"0.8rem\",\r\n                      display: \"inline-flex\",\r\n                      fontFamily: \"Nunito Sans\",\r\n                    }}\r\n                  >\r\n                    Control\r\n                  </div>\r\n                </TableCell>\r\n              </TableRow>\r\n            </TableHead>\r\n            <TableCell align=\"center\">{timestamp}</TableCell>\r\n            <TableCell align=\"center\">{alarms}</TableCell>\r\n            <TableCell align=\"center\">{state}</TableCell>\r\n            <TableCell align=\"center\">{mode}</TableCell>\r\n            <TableCell align=\"center\">{block_control}</TableCell>\r\n          </Table>\r\n        </TableContainer>\r\n      </div>\r\n      <div className=\"grid grid-cols-3 gap-2 bg-gray-400 rounded shadow-md p-2\">\r\n        <div className=\"grid grid-rows-2 gap-2\">\r\n          <Button\r\n            onClick={onMode}\r\n            value={mode}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            <div className=\"text-xs\">Manual</div>\r\n          </Button>\r\n          <Button\r\n            onClick={onMode1}\r\n            value={mode}\r\n            variant=\"contained\"\r\n            color=\"success\"\r\n          >\r\n            <div className=\"text-xs\">Automatic</div>\r\n          </Button>\r\n        </div>\r\n        <div className=\"grid grid-rows-2 gap-2\">\r\n          <Button\r\n            onClick={onBlockControl1}\r\n            value={block_control}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            <div className=\"text-xs\">Manual Date & Time</div>\r\n          </Button>\r\n          <Button\r\n            onClick={onBlockControl}\r\n            value={block_control}\r\n            variant=\"contained\"\r\n            color=\"success\"\r\n          >\r\n            <div className=\"text-xs\">AI Control</div>\r\n          </Button>\r\n        </div>\r\n        <div className=\"grid grid-rows-3 gap-2\">\r\n          <Button color=\"info\" variant=\"contained\" onClick={onProcessHold}>\r\n            <div className=\"text-xs\">Process Hold</div>\r\n          </Button>\r\n          <Button color=\"warning\" variant=\"contained\" onClick={onAlarmReset}>\r\n            <div className=\"text-xs\">Alarm Reset</div>\r\n          </Button>\r\n          <Button color=\"error\" variant=\"contained\" onClick={onStop}>\r\n            <div className=\"text-xs\">Stop</div>\r\n          </Button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst usePost = (handle, refetch, set) =>\r\n  useMemo(\r\n    () =>\r\n      (...args) => {\r\n        set((p) => p + 1);\r\n        return handle(...args)\r\n          .then(() => refetch())\r\n          .finally(() => set((p) => p - 1));\r\n      },\r\n    [handle, refetch, set]\r\n  );\r\n\r\nconst zeroPad = (number, zeros) => number.toString().padStart(zeros, \"0\");\r\n\r\nconst ControlGroup = ({ index, value, onChange }) => {\r\n  return (\r\n    <div className=\"mt-2\">\r\n      <div className=\"grid grid-cols-2 gap-2\"></div>\r\n      <TimeControl index={index} value={value} onChange={onChange} />\r\n      <Tank index={index} value={value} onChange={onChange} />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst TimeControl = ({ index, value, onChange }) => {\r\n  const [start_time, runtime, ec] = [\"start_time\", \"runtime\", \"ec\"].map(\r\n    (k) => `${k}_${zeroPad(index, 2)}`\r\n  );\r\n\r\n  const handleStartTime = (d) => {\r\n    onChange({ ...value, [start_time]: d });\r\n  };\r\n  const handleRunTime = (d) => {\r\n    onChange({ ...value, [runtime]: d });\r\n  };\r\n  const handleEC = (d) => {\r\n    onChange({ ...value, [ec]: d });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <TableContainer component={Paper}>\r\n        <Table sx={{ minWidth: 200 }} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell variant=\"head\" align=\"center\">\r\n                <div\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"0.8rem\",\r\n                    display: \"inline-flex\",\r\n                    fontFamily: \"Nunito Sans\",\r\n                  }}\r\n                >\r\n                  EC Setpoint |\r\n                </div>\r\n              </TableCell>\r\n              <TableCell variant=\"head\" align=\"center\">\r\n                <div\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"0.8rem\",\r\n                    display: \"inline-flex\",\r\n                    fontFamily: \"Nunito Sans\",\r\n                  }}\r\n                >\r\n                  Run Time |\r\n                </div>\r\n              </TableCell>\r\n              <TableCell variant=\"head\" align=\"center\">\r\n                <div\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    fontSize: \"0.8rem\",\r\n                    display: \"inline-flex\",\r\n                    fontFamily: \"Nunito Sans\",\r\n                  }}\r\n                >\r\n                  Start Time |\r\n                </div>\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableCell>\r\n            <div className=\"text-sm flex align-center justify-center\">\r\n              <input\r\n                style={{ display: \"flex\", textAlign: \"center\" }}\r\n                variant=\"standard\"\r\n                type=\"text\"\r\n                value={value[ec]}\r\n                onChange={(e) => handleEC(e.target.value)}\r\n              />\r\n            </div>\r\n          </TableCell>\r\n          <TableCell>\r\n            <div className=\"text-sm flex align-center justify-center\">\r\n              <input\r\n                style={{ display: \"flex\", textAlign: \"center\" }}\r\n                variant=\"standard\"\r\n                type=\"number\"\r\n                value={value[runtime]}\r\n                onChange={(e) => handleRunTime(e.target.value)}\r\n              />\r\n            </div>\r\n          </TableCell>\r\n          <TableCell>\r\n            <div className=\"text-sm flex align-center justify-center\">\r\n              <input\r\n                style={{ display: \"flex\", textAlign: \"center\" }}\r\n                variant=\"standard\"\r\n                type=\"datetime-local\"\r\n                value={value[start_time]}\r\n                onChange={(e) => handleStartTime(e.target.value)}\r\n                sx={{ minWidth: 21 }}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </div>\r\n          </TableCell>\r\n        </Table>\r\n      </TableContainer>\r\n    </>\r\n  );\r\n};\r\nconst Tank = ({ index, value, onChange }) => {\r\n  const tanks = [\"a\", \"b\", \"c\", \"d\", \"e\",\"f\"].map((letter) => ({\r\n    name: `${letter.toUpperCase()}-Tank `,\r\n    field: `tank_${letter}_flow_${zeroPad(index, 2)}`,\r\n  }));\r\n\r\n  const handleFlowRate = (field, d) => {\r\n    onChange({ ...value, [field]: d });\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"bg-blue-200 align-center text-md text-gray-900 justify-center flex font-bold\">\r\n        <div style={{ fontFamily: \"Nunito Sans\" }}>Fertilizer</div>\r\n      </div>\r\n      <TableContainer component={Paper}>\r\n        <Table sx={{ minWidth: 200 }} aria-label=\"simple table\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell>Name</TableCell>\r\n              <TableCell align=\"right\">Flow rate /m</TableCell>\r\n            </TableRow>\r\n            {tanks.map((tank, i) => (\r\n              <TableRow key={i}>\r\n                <TableCell>{tank.name}</TableCell>\r\n                <TableCell align=\"right\">\r\n                  <input\r\n                    type=\"text\"\r\n                    className=\"text-right\"\r\n                    value={value[tank.field]}\r\n                    onChange={(e) => handleFlowRate(tank.field, e.target.value)}\r\n                  />\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n          </TableHead>\r\n        </Table>\r\n      </TableContainer>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nconst Tab = ({ value, onChange, onSave }) => {\r\n  const CONTROL_GROUPS = [1, 2, 3, 4];\r\n\r\n  return (\r\n    <div className=\"px-2 pb-2\">\r\n      <div className=\"flex align-center justify-center p-2 rounded mb-2\">\r\n        <Button onClick={() => onSave()} color=\"primary\" variant=\"contained\">\r\n          Save\r\n        </Button>\r\n      </div>\r\n\r\n      {CONTROL_GROUPS.map((i) => (\r\n        <ControlGroup\r\n          key={i}\r\n          index={i}\r\n          value={value}\r\n          onChange={(d) => onChange(d)}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nconst Tables = () => {\r\n  const { farmId } = useParams();\r\n  const prefix = `/${farmId}`;\r\n\r\n  const [{ data, loading }, refetch] = useApi(\r\n    `/${farmId}/manual_datetime_settings`\r\n  );\r\n\r\n  useRefetch(refetch);\r\n\r\n  const [, postMode] = useApi(...post(`${prefix}/manual_datetime_settings`));\r\n\r\n  const [value, setValue] = useState(null);\r\n  useEffect(() => {\r\n    if (data) {\r\n      setValue(data);\r\n    }\r\n  }, [data]);\r\n\r\n  const handleSave = useCallback(() => {\r\n    postMode({ data: value }).then(() => refetch());\r\n  }, [value]);\r\n\r\n  const handleChange = useCallback(\r\n    (datum) => {\r\n      const { index } = datum;\r\n      setValue(setAt(value, index, datum));\r\n    },\r\n    [value]\r\n  );\r\n\r\n  if (!value) return <Preloader />;\r\n\r\n  return value.map((datum, i) => (\r\n    <div key={i} className=\"block \">\r\n      <Tab\r\n        value={{ ...datum, index: i }}\r\n        onChange={handleChange}\r\n        onSave={handleSave}\r\n      />\r\n    </div>\r\n  ));\r\n};\r\n\r\nexport const Control = () => {\r\n  return (\r\n    <div className=\"flex flex-col p-3\">\r\n      <div className=\"align-items-center align-content-center justify-content-center p-1\">\r\n        <div className=\"p-2\">\r\n          <div className=\"bg-gray-400 shadow-md rounded text-2xl font-bold text-center p-2\">\r\n            <ControlPanel />\r\n          </div>\r\n        </div>\r\n        <div className=\"p-2\">\r\n          <div className=\"bg-gray-400 rounded shadow-md p-2\">\r\n            <div>\r\n              <Tables />\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export const setAt = (arr, idx, val) =>\r\n  [arr.slice(0, idx), [val], arr.slice(idx + 1, arr.length)].flat();","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 17/08/2021 - 15:26:25\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 17/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { useState, useLayoutEffect } from \"react\";\r\nimport {\r\n  createContainer,\r\n  VictoryAxis,\r\n  VictoryBar,\r\n  VictoryBrushContainer,\r\n  VictoryChart,\r\n  VictoryTooltip\r\n} from \"victory\";\r\n\r\nimport useResizeObserver from \"@react-hook/resize-observer\";\r\nimport moment from \"moment\";\r\n\r\nconst formatDate = (date) => moment(date).format(\"YYYY-MM-DD HH:mm\");\r\n\r\nclass BrushChartTooltip extends React.Component {\r\n  static defaultEvents = VictoryTooltip.defaultEvents;\r\n\r\n  render() {\r\n    return (\r\n      <VictoryTooltip\r\n        {...this.props}\r\n        x={this.props.width / 2}\r\n        y={40}\r\n        cornerRadius={0}\r\n        pointerLength={0}\r\n        flyoutWidth={200}\r\n        dy={-20}\r\n        renderInPortal={false}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst useSize = (target) => {\r\n  const [size, setSize] = useState({ width: 0, height: 0 });\r\n  useLayoutEffect(() => {\r\n    if (target) {\r\n      setSize(target.getBoundingClientRect());\r\n    }\r\n  }, [target]);\r\n\r\n  // Where the magic happens\r\n  useResizeObserver(target, (entry) => setSize(entry.contentRect));\r\n  return size;\r\n};\r\n\r\nconst VictoryZoomVoronoiContainer = createContainer(\"zoom\", \"voronoi\");\r\n\r\nexport const BrushChart = ({ data }) => {\r\n  const [target, setTarget] = useState(null);\r\n  const { width } = useSize(target);\r\n\r\n  const domain = data\r\n    .reduce(\r\n      ([dStart, dEnd], { x }) => [Math.min(+x, dStart), Math.max(+x, dEnd)],\r\n      [Infinity, -Infinity]\r\n    )\r\n    .map((date) => new Date(date));\r\n  const [zoomDomain, setZoomDomain] = useState(domain);\r\n\r\n  let brushCallback = ({ x }) => setZoomDomain(x);\r\n\r\n  let theme = {\r\n    axis: {\r\n      style: {\r\n        axis: {\r\n          stroke: \"grey\",\r\n          strokeWidth: 1\r\n        },\r\n        tickLabels: {},\r\n        grid: {\r\n          stroke: \"grey\",\r\n          strokeDasharray: \"5,5\",\r\n          strokeWidth: 0.5\r\n        }\r\n      }\r\n    },\r\n    bar: {\r\n      style: {\r\n        data: {\r\n          fill: \"steelblue\"\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full h-full\" ref={setTarget}>\r\n      <div\r\n        style={{ marginLeft: \"2.5rem\", fontWeight: \"bold\", fontSize: \"17px\" }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"inline-flex\",\r\n            color: \"#373738\",\r\n            marginTop: \"0.5rem\",\r\n            marginBottom: \"0.5rem\"\r\n          }}\r\n        >\r\n          Overall Water Usage in m\r\n        </div>\r\n      </div>\r\n      <VictoryChart\r\n        theme={theme}\r\n        height={300}\r\n        width={width}\r\n        padding={{ left: 40, bottom: 20 }}\r\n        scale={{ x: \"time\", y: \"linear\" }}\r\n        domain={{ x: domain }}\r\n        containerComponent={\r\n          <VictoryZoomVoronoiContainer\r\n            style={{\r\n              touchAction: \"auto\"\r\n            }}\r\n            zoomDimension=\"x\"\r\n            voronoiDimension=\"x\"\r\n            allowPan={false}\r\n            allowZoom={false}\r\n            zoomDomain={{ x: zoomDomain }}\r\n          />\r\n        }\r\n      >\r\n        <VictoryAxis fixLabelOverlap gridComponent={<></>} />\r\n        <VictoryAxis dependentAxis />\r\n        <VictoryBar\r\n          barRatio={0.5}\r\n          labels={({ datum: { x, y } }) => `${formatDate(x)}  ${y.toFixed(2)}`}\r\n          labelComponent={<BrushChartTooltip />}\r\n          data={data}\r\n        />\r\n      </VictoryChart>\r\n      <VictoryChart\r\n        theme={theme}\r\n        height={100}\r\n        width={width}\r\n        padding={{ left: 40, bottom: 20 }}\r\n        scale={{ x: \"time\", y: \"linear\" }}\r\n        domain={{ x: domain }}\r\n        containerComponent={\r\n          <VictoryBrushContainer\r\n            brushDimension=\"x\"\r\n            brushDomain={{ x: zoomDomain }}\r\n            onBrushDomainChangeEnd={brushCallback}\r\n          />\r\n        }\r\n      >\r\n        <VictoryAxis fixLabelOverlap gridComponent={<></>} />\r\n        <VictoryBar barRatio={0.4} data={data} />\r\n      </VictoryChart>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 26/08/2021 - 10:28:09\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 26/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { useEffect } from \"react\";\r\nimport { useApi } from \"api\";\r\nimport { useRefetch } from \"./Timer\";\r\n\r\nconst RenderErrorLogger = ({ error, refetch }) => {\r\n  useEffect((error) => console.error(error), [error]);\r\n  return <>{error.toString()}</>;\r\n};\r\n\r\nexport const AxiosSpinner = ({\r\n  renderData: RenderData,\r\n  callHook,\r\n  refresh = true,\r\n  renderError: RenderError = RenderErrorLogger,\r\n}) => {\r\n  const [{ data, loading, error }, refetch] = callHook(useApi);\r\n  useRefetch(refetch, refresh);\r\n\r\n  if (error) {\r\n    return <RenderError {...{ error, refetch }} />;\r\n  }\r\n  if (!data && loading) {\r\n    return <></>;\r\n  }\r\n  return <RenderData {...{ data, refetch }} />;\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 27/08/2021 - 15:23:53\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 27/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { useMemo } from \"react\";\r\nimport ApexChart from \"react-apexcharts\";\r\nimport moment from \"moment\";\r\n\r\nexport const FertilizerBarChart = ({ data }) => {\r\n  const today = useMemo(() => new Date(), []);\r\n  const dates = [-6, -5, -4, -3, -2, -1, 0].map((d) => {\r\n    const date = new Date(today);\r\n    date.setDate(date.getDate() + d);\r\n    return date;\r\n  });\r\n\r\n  const getDayName = (date) =>\r\n    [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"][date.getDay()];\r\n  const days = dates.map((date) => getDayName(date));\r\n\r\n  const seriesNames = Array.from(new Set(data.map(({ name }) => name)));\r\n  const series = seriesNames.map((seriesName) => ({\r\n    name: seriesName,\r\n    data: dates.map((date) => {\r\n      const datum = data.find(\r\n        (dayUsage) =>\r\n          new Date(dayUsage.date).getDay() === date.getDay() &&\r\n          dayUsage.name === seriesName\r\n      ) || { value: 0 };\r\n      return {\r\n        x: getDayName(date),\r\n        y: datum.value,\r\n        goals:\r\n          datum.target != null\r\n            ? [\r\n                {\r\n                  name: \"Target\",\r\n                  value: datum.target,\r\n                  strokeWidth: 0,\r\n                  strokeHeight: 8,\r\n                  strokeLineCap:\"round\",\r\n                  strokeColor: \"#de6231\",\r\n                },\r\n              ]\r\n            : null,\r\n      };\r\n    }),\r\n  }));\r\n\r\n  return (\r\n    <ApexChart\r\n      type=\"bar\"\r\n      height={300}\r\n      series={series}\r\n      options={{\r\n        chart: {\r\n          toolbar: {\r\n            show: false,\r\n          },\r\n        },\r\n        tooltip: {\r\n          x: {\r\n            formatter: (_, { dataPointIndex }) => {\r\n              const date = moment(dates[dataPointIndex]).format(\r\n                \"YYYY-MM-DD ddd\"\r\n              );\r\n              return date;\r\n            },\r\n          },\r\n          y: {\r\n            formatter: (y, { dataPointIndex }) => {\r\n              const unit = data[dataPointIndex].unit;\r\n              return `${y} ${unit}`;\r\n            },\r\n          },\r\n        },\r\n        xaxis: {\r\n          categories: days,\r\n          style: { fontSize: \"40px\" },\r\n        },\r\n        plotOptions: {\r\n          bar: {\r\n            endingShape: \"rounded\",\r\n            columnWidth: \"55%\",\r\n          },\r\n        },\r\n        dataLabels: {\r\n          enabled: false,\r\n        },\r\n        title: {\r\n          text: \"Fertilizer Usage\",\r\n          offsetX: 30,\r\n          offsetY: 10,\r\n          style: {\r\n            fontSize: \"17px\",\r\n            fontWeight: \"bold\",\r\n          },\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/citrus.bd758448.png\";","export default __webpack_public_path__ + \"static/media/greendrop.d2e2a9d3.gif\";","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 16/09/2021 - 14:07:52\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 16/09/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { BrushChart } from \"components/charts/BrushChart\";\r\nimport { AxiosSpinner } from \"components/AxiosSpinner\";\r\nimport { FertilizerBarChart } from \"components/charts/FertilizerBarChart\";\r\nimport citrus from \"images/citrus.png\";\r\nimport greendrop from \"images/greendrop.gif\";\r\nimport valve from \"images/valve.png\";\r\nimport grapes from \"images/grapes.png\";\r\nimport { normalizeUnits } from \"moment\";\r\n\r\nconst images = {\r\n  main_valve: valve,\r\n  opened: greendrop,\r\n  citrus: citrus,\r\n  grape: grapes,\r\n  unknown: null,\r\n};\r\n\r\nconst getImageFor = (data) => {\r\n  if (data.status === \"Opened\") {\r\n    return images.opened;\r\n  }\r\n\r\n  if (data.type === \"main valve\") {\r\n    return images.main_valve;\r\n  }\r\n\r\n  return images[data.cultivar];\r\n};\r\n\r\nconst EquipmentStatus = ({ data }) => {\r\n  const image = getImageFor(data);\r\n  const timeLeft = data.time_left && data.time_left + \" min left\";\r\n\r\n  return (\r\n    <div className=\"p-2\">\r\n      <div className=\"font-bold text-2xl mb-2\">{data.name}</div>\r\n      <div className=\"flex justify-between mb-2\">\r\n        <div className=\"flex flex-col\">\r\n          <div className=\"text-green-800 text-xl font-bold\">{data.status}</div>\r\n          <div className=\"text-green-800 text-lg font-bold\">\r\n            Value: {data.real_time_flow}\r\n          </div>\r\n          {\r\n            (!data.real_time_flow_target ? null : (\r\n              <div className=\"text-green-800 text-lg font-bold\">\r\n                Target: {data.real_time_flow_target}\r\n              </div>\r\n            ))\r\n          }\r\n          <div className=\"text-green-800 text-lg font-bold text-md\">\r\n            Total: {data.total_flow}\r\n          </div>\r\n          <div className=\"text-green-800 text-lg font-bold text-md\">\r\n            {timeLeft}\r\n          </div>\r\n          <div className=\"font-bold text-sm text-red-400\">{data.alarm}</div>\r\n        </div>\r\n        <div>\r\n          <img src={image} width={70} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const IrrigationControl = () => {\r\n  const { farmId } = useParams();\r\n  return (\r\n    <div>\r\n      <div className=\"p-2\">\r\n        <div\r\n          style={{\r\n            gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\",\r\n          }}\r\n          className=\"grid p-4 gap-4\"\r\n        >\r\n          <AxiosSpinner\r\n            callHook={(use) => use(`/${farmId}/irrigation_1`)}\r\n            renderData={({ data }) =>\r\n              data.map((irrigation_valve, i) => (\r\n                <div key={i} className=\"bg-gray-300 shadow-md rounded mt-2\">\r\n                  <EquipmentStatus data={irrigation_valve} />\r\n                </div>\r\n              ))\r\n            }\r\n          />\r\n        </div>\r\n        <div className=\"bg-gray-300 rounded shadow-md ml-6 mr-6\">\r\n          <div className=\"w-full h-full\">\r\n            <AxiosSpinner\r\n              callHook={(use) => use(`/${farmId}/irrigation_3`)}\r\n              refresh={false}\r\n              renderData={({ data }) => (\r\n                <FertilizerBarChart title=\"Field Water Usage\" data={data} />\r\n              )}\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"col-span-3 bg-gray-300  rounded shadow-md m-4\">\r\n          <AxiosSpinner\r\n            callHook={(use) => use(`/${farmId}/irrigation_2`)}\r\n            renderData={({ data }) => (\r\n              <BrushChart\r\n                data={data.map(({ datetime, y, ...rest }) => ({\r\n                  ...rest,\r\n                  x: new Date(datetime),\r\n                  y: Number(y),\r\n                }))}\r\n              />\r\n            )}\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 16/08/2021 - 13:10:37\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 16/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { useState, useMemo, useLayoutEffect } from \"react\";\r\nimport {\r\n  createContainer,\r\n  VictoryAxis,\r\n  VictoryBrushContainer,\r\n  VictoryChart,\r\n  VictoryTooltip,\r\n  VictoryLegend,\r\n  VictoryLine,\r\n} from \"victory\";\r\nimport useResizeObserver from \"@react-hook/resize-observer\";\r\nimport moment from \"moment\";\r\n\r\nconst formatDate = (date) => moment(date).format(\"YYYY/MM/DD HH:mm\");\r\n\r\nclass BrushChartTooltip extends React.Component {\r\n  static defaultEvents = VictoryTooltip.defaultEvents;\r\n\r\n  render() {\r\n    return (\r\n      <VictoryTooltip\r\n        {...this.props}\r\n        x={this.props.width / 2}\r\n        y={40}\r\n        cornerRadius={0}\r\n        pointerLength={0}\r\n        flyoutWidth={200}\r\n        dy={-20}\r\n        renderInPortal={false}\r\n      />\r\n    );\r\n  }\r\n}\r\n\r\nconst useSize = (target) => {\r\n  const [size, setSize] = useState({ width: 0, height: 0 });\r\n  useLayoutEffect(() => {\r\n    if (target) {\r\n      setSize(target.getBoundingClientRect());\r\n    }\r\n  }, [target]);\r\n\r\n  useResizeObserver(target, (entry) => setSize(entry.contentRect));\r\n  return size;\r\n};\r\n\r\nconst VictoryZoomVoronoiContainer = createContainer(\"zoom\", \"voronoi\");\r\n\r\nconst takeWhile = (p, arr) => {\r\n  var idx = arr.findIndex((x) => !p(x));\r\n  return arr.slice(0, idx == -1 ? arr.length : idx);\r\n};\r\n\r\nexport const LineChart = ({ data }) => {\r\n  const [target, setTarget] = useState(null);\r\n  const { width } = useSize(target);\r\n  const dateStart = useMemo(() => {\r\n    const now = new Date();\r\n    now.setDate(now.getDate() - 2);\r\n    return now;\r\n  }, []);\r\n\r\n  const truncatedData = useMemo(\r\n    () => takeWhile(({ x }) => +dateStart < +x, data),\r\n    [data]\r\n  );\r\n  const domain = useMemo(\r\n    () =>\r\n      truncatedData\r\n        .reduce(\r\n          ([dStart, dEnd], { x }) => [Math.min(+x, dStart), Math.max(+x, dEnd)],\r\n          [Infinity, -Infinity]\r\n        )\r\n        .map((date) => new Date(date)),\r\n    [truncatedData]\r\n  );\r\n  const [zoomDomain, setZoomDomain] = useState(domain);\r\n\r\n  const brushCallback = ({ x }) => setZoomDomain(x);\r\n\r\n  const series = useMemo(\r\n    () => [\r\n      {\r\n        name: \"Value\",\r\n        style: {\r\n          stroke: \"blue\",\r\n          strokeWidth: 1.5,\r\n        },\r\n        data: truncatedData.map(({ x, y }) => ({ x, y })),\r\n        tooltip: true,\r\n      },\r\n      {\r\n        name: \"Target\",\r\n        style: {\r\n          stroke: \"green\",\r\n          strokeWidth: 1,\r\n        },\r\n        data: truncatedData.map(({ x, z }) => ({ x, y: z })),\r\n        tooltip: false,\r\n      },\r\n    ],\r\n    [truncatedData]\r\n  );\r\n\r\n  const theme = {\r\n    axis: {\r\n      style: {\r\n        axis: {\r\n          stroke: \"gray\",\r\n          strokeWidth: 2,\r\n        },\r\n        tickLabels: {},\r\n        grid: {\r\n          stroke: \"blue\",\r\n          strokeDasharray: \"5,5\",\r\n          strokeWidth: 0.5,\r\n        },\r\n      },\r\n    },\r\n    line: {\r\n      style: {\r\n        data: {\r\n          strokeWidth: \"1.5\",\r\n        },\r\n      },\r\n    },\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full h-full\" ref={setTarget}>\r\n      <div\r\n        style={{ marginLeft: \"2.5rem\", fontWeight: \"bold\", fontSize: \"17px\" }}\r\n      >\r\n        <div\r\n          style={{\r\n            display: \"inline-flex\",\r\n            color: \"#373d3f\",\r\n            marginTop: \"0.5rem\",\r\n            marginBottom: \"0.5rem\",\r\n            fontFamily: \"'Raleway', sans-serif\",\r\n          }}\r\n        >\r\n          EC History in S\r\n        </div>\r\n      </div>\r\n      <VictoryChart\r\n        style={{ overflow: \"visible\" }}\r\n        theme={theme}\r\n        height={300}\r\n        width={width}\r\n        padding={{ left: 40, bottom: 20 }}\r\n        scale={{ x: \"time\", y: \"linear\" }}\r\n        domain={{ x: domain }}\r\n        containerComponent={\r\n          <VictoryZoomVoronoiContainer\r\n            style={{\r\n              touchAction: \"auto\",\r\n            }}\r\n            zoomDimension=\"x\"\r\n            voronoiDimension=\"x\"\r\n            allowZoom={false}\r\n            allowPan={true}\r\n            zoomDomain={{ x: zoomDomain }}\r\n          />\r\n        }\r\n      >\r\n        <VictoryAxis fixLabelOverlap gridComponent={<></>} />\r\n        <VictoryAxis dependentAxis />\r\n        {series.map(({ data, tooltip, style }, i) => {\r\n          const tooltipOptions = tooltip && {\r\n            labels: ({ datum: { x, y } }) => `${formatDate(x)}-${y}`,\r\n            labelComponent: <BrushChartTooltip />,\r\n          };\r\n          return (\r\n            <VictoryLine\r\n              key={i}\r\n              sortKey=\"datetime\"\r\n              interpolation=\"linear\"\r\n              {...tooltipOptions}\r\n              style={{ data: style }}\r\n              data={data}\r\n            />\r\n          );\r\n        })}\r\n      </VictoryChart>\r\n      <VictoryChart\r\n        theme={theme}\r\n        height={100}\r\n        width={width}\r\n        padding={{ left: 40, bottom: 20 }}\r\n        scale={{ x: \"time\", y: \"linear\" }}\r\n        domain={{ x: domain }}\r\n        containerComponent={\r\n          <VictoryBrushContainer\r\n            brushDimension=\"x\"\r\n            brushDomain={{ x: zoomDomain }}\r\n            onBrushDomainChangeEnd={brushCallback}\r\n          />\r\n        }\r\n      >\r\n        <VictoryAxis fixLabelOverlap gridComponent={<></>} />\r\n        {series.map(({ data, style }, i) => (\r\n          <VictoryLine\r\n            key={i}\r\n            interpolation=\"linear\"\r\n            style={{ data: style }}\r\n            data={data}\r\n            sortKey=\"x\"\r\n          />\r\n        ))}\r\n      </VictoryChart>\r\n    </div>\r\n  );\r\n};\r\n","import ApexChart from \"react-apexcharts\";\r\n\r\nexport const FertilizerPieChart = ({ data, title }) => {\r\n  const series = data.map(({ ratio }) => Number(ratio));\r\n  const labels = data.map(({ name }) => name);\r\n  return (\r\n    <ApexChart\r\n      type=\"donut\"\r\n      height={300}\r\n      series={series}\r\n      options={{\r\n        dataLabels: {\r\n          enabled: true,\r\n          formatter: function (val) {\r\n            return val.toFixed(2) + \"%\";\r\n          },\r\n        },\r\n        labels: labels,\r\n        legend: {\r\n          formatter: (label, { seriesIndex }) =>\r\n            `${label} - ${data[seriesIndex].value} ${data[seriesIndex].unit}`,\r\n          position: \"bottom\",\r\n        },\r\n        title: {\r\n          text: title,\r\n          offsetX: 30,\r\n          offsetY: 10,\r\n          style: {\r\n            fontSize: \"17px\",\r\n            fontWeight: \"bold\",\r\n          },\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 11/08/2021 - 15:03:41\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 11/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport ApexChart from \"react-apexcharts\";\r\nimport { FertilizerBarChart } from \"components/charts/FertilizerBarChart\";\r\nimport ErrorGif from \"images/ErrorGif.gif\";\r\nimport { useApi } from \"api\";\r\nimport { LineChart } from \"components/charts/LineChart\";\r\nimport { useRefetch } from \"../components/Timer\";\r\nimport { FertilizerPieChart } from \"components/charts/FertilizerPieChart\";\r\nimport fertilizer from \"images/fertilizer.png\";\r\nimport ec_valve from \"images/ec_valve.png\";\r\nimport greendrop from \"images/greendrop.gif\";\r\n\r\nconst FertilizerValve = ({ valve }) => {\r\n  var image = valve.status === \"Opened\" ? greendrop : fertilizer;\r\n  return (\r\n    <div className=\"px-2 pb-2\">\r\n      <div className=\"font-bold text-2xl mb-2\">{valve.name}</div>\r\n      <div className=\"flex justify-between mb-2\">\r\n        <div className=\"flex flex-col justify-end\">\r\n          <div className=\"text-green-800 text-xl font-bold\">{valve.status}</div>\r\n          <div className=\"text-green-800 text-lg font-bold\">\r\n            Value: {valve.real_time_flow}\r\n          </div>\r\n          {\r\n            (!valve.real_time_flow_target ? null : (\r\n              <div className=\"text-green-800 text-lg font-bold\">\r\n                Target: {valve.real_time_flow_target}\r\n              </div>\r\n            ))\r\n          }\r\n          <div className=\"text-green-800 text-lg font-bold text-md\">\r\n            Total: {valve.total_flow}\r\n          </div>\r\n          <div className=\"text-red-400 font-bold text-sm\">{valve.alarm}</div>\r\n        </div>\r\n        <div>\r\n          <img width={70} src={image} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst ECValve = ({ ec }) => {\r\n  return (\r\n    <div className=\"p-2\">\r\n      <div className=\"text-2xl font-bold mb-2\">{ec.name}</div>\r\n      <div className=\"flex justify-between mb-2\">\r\n        <div className=\"flex flex-col justify-end\">\r\n          <div className=\"text-green-800 text-lg font-bold\">\r\n            Target: {ec.setpoint}\r\n          </div>\r\n          <div className=\"text-green-800 text-lg font-bold\">\r\n            Value: {ec.value}\r\n          </div>\r\n          <div className=\"text-red-400 font-bold text-sm\">{ec.alarm}</div>\r\n        </div>\r\n        <div>\r\n          <img src={ec_valve} width={70} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Fertilizer = () => {\r\n  const { farmId } = useParams();\r\n  const [{ data, loading, error }, refetch] = useApi(`/${farmId}/fertilizer`);\r\n\r\n  useRefetch(refetch);\r\n\r\n  if (!data && loading) return <Preloader />;\r\n  if (error)\r\n    return (\r\n      <div className=\"p-4\">\r\n        <img src={ErrorGif} alt={ErrorGif} width=\"100%\" />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"p-4\">\r\n      <div\r\n        style={{ gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\" }}\r\n        className=\"grid gap-4 p-2\"\r\n      >\r\n        {data.fertilizer_valves.map((valve, i) => (\r\n          <div key={i} className=\"bg-gray-300 rounded shadow-md\">\r\n            <FertilizerValve valve={valve} />\r\n          </div>\r\n        ))}\r\n        {data.ec_values.map((ec, i) => (\r\n          <div key={i} className=\"bg-gray-300 rounded shadow-md\">\r\n            <ECValve ec={ec} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"p-2 mt-2\">\r\n        <div className=\"bg-gray-300 rounded shadow-md mb-4 p-2\">\r\n          <LineChart\r\n            data={data.ec_history.map(({ datetime, x, y, z }) => ({\r\n              x: new Date(datetime + \" \" + x),\r\n              y: Number(y),\r\n              z: Number(z),\r\n            }))}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"grid grid-cols-3 sm:grid-cols-6\">\r\n        <div className=\"col-span-3 sm:col-span-6 bg-gray-300 rounded shadow-md m-3\">\r\n          <FertilizerBarChart data={data.fertilizer_bargraph} />\r\n        </div>\r\n        <div className=\"col-span-3 bg-gray-300 rounded shadow-md m-3\">\r\n          <FertilizerPieChart\r\n            data={data.fertilizer_pie_chart}\r\n            title=\"Actual Ratio\"\r\n          />\r\n        </div>\r\n        <div className=\"col-span-3 bg-gray-300 rounded shadow-md m-3\">\r\n          <FertilizerPieChart\r\n            data={data.fertilizer_pie_chart_recommended}\r\n            title=\"Recommended Ratio\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 27/08/2021 - 15:24:25\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 27/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport { useApi } from \"api\";\r\nimport { TextField } from \"@material-ui/core\";\r\nimport { DataGrid } from \"@material-ui/data-grid\";\r\nimport {\r\n  MobileDateTimePicker,\r\n  LocalizationProvider,\r\n} from \"@material-ui/pickers\";\r\nimport MomentUtils from \"@material-ui/pickers/adapter/moment\";\r\nimport moment from \"moment\";\r\nimport ErrorGif from \"images/ErrorGif.gif\";\r\n\r\nconst DateTimeEditInputCell = (props) => {\r\n  const { id, field, value, api } = props;\r\n  const dateFormat = \"YYYY-MM-DD HH:mm:ss\";\r\n  const handleChange = useCallback(\r\n    (editedDate) => {\r\n      const editedValue = moment(editedDate).format(dateFormat);\r\n      api.setEditCellValue({ id, field, value: editedValue });\r\n    },\r\n    [id, field, api]\r\n  );\r\n\r\n  return (\r\n    <LocalizationProvider dateAdapter={MomentUtils} dateFormat={dateFormat}>\r\n      <div className=\"flex flex-col justify-content-center\">\r\n        <MobileDateTimePicker\r\n          renderInput={(props) => (\r\n            <TextField\r\n              {...props}\r\n              variant=\"outlined\"\r\n              margin=\"none\"\r\n              helperText=\"\"\r\n            ></TextField>\r\n          )}\r\n          inputFormat={dateFormat}\r\n          value={new Date(value)}\r\n          onChange={handleChange}\r\n        />\r\n      </div>\r\n    </LocalizationProvider>\r\n  );\r\n};\r\n\r\nconst sectionColumns = [\r\n  {\r\n    field: \"ec_setpoint\",\r\n    headerName: \"EC Setpoint\",\r\n    type: \"number\",\r\n    editable: false,\r\n  },\r\n  {\r\n    field: \"run_time\",\r\n    headerName: \"Run time\",\r\n    type: \"number\",\r\n    editable: false,\r\n  },\r\n  {\r\n    field: \"start_time\",\r\n    headerName: \"Start time\",\r\n    type: \"string\",\r\n    renderEditCell: (props) => <DateTimeEditInputCell {...props} />,\r\n    editable: false,\r\n  },\r\n  {\r\n    field: \"end_time\",\r\n    headerName: \"End time\",\r\n    type: \"string\",\r\n    renderEditCell: DateTimeEditInputCell,\r\n    editable: false,\r\n  },\r\n].map((column) => ({ ...column, flex: 0.5 }));\r\n\r\nconst SectionTable = ({ editable, section, onChange = null }) => {\r\n  const id = section.sql_index;\r\n  const handleCellEditCommit = useCallback(\r\n    (e) => {\r\n      const { field, value } = e;\r\n      const editedSection = { ...section, [field]: value };\r\n      if (onChange) {\r\n        onChange(editedSection);\r\n      }\r\n    },\r\n    [section, onChange]\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex\">\r\n      <DataGrid\r\n        hideFooter={true}\r\n        autoHeight\r\n        rows={[{ id, ...section }]}\r\n        columns={sectionColumns}\r\n        isCellEditable={({ colDef }) => editable && colDef.editable}\r\n        onCellEditCommit={handleCellEditCommit}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst fertilizerColumns = [\r\n  {\r\n    field: \"name\",\r\n    headerName: \"Name\",\r\n    type: \"text\",\r\n    editable: false,\r\n  },\r\n  {\r\n    field: \"ec_setpoint\",\r\n    headerName: \"EC Setpoint S\",\r\n    type: \"number\",\r\n    editable: true,\r\n  },\r\n  {\r\n    field: \"flow_rate\",\r\n    headerName: \"Flow rate /m\",\r\n    type: \"number\",\r\n    editable: true,\r\n  },\r\n].map((column) => ({ ...column, flex: 0.5 }));\r\n\r\nconst FertilizerTable = ({ section, onChange = null }) => {\r\n  const { fertilizer: fertilizers } = section;\r\n  const handleCellEditCommit = useCallback(\r\n    (e) => {\r\n      const { id, field, value } = e;\r\n      const editedFertilizer = { ...fertilizers[id], [field]: value };\r\n      const editedFertilizers = [\r\n        ...fertilizers.slice(0, id),\r\n        editedFertilizer,\r\n        ...fertilizers.slice(id + 1),\r\n      ];\r\n      const editedSection = { ...section, fertilizer: editedFertilizers };\r\n      if (onChange) {\r\n        onChange(editedSection);\r\n      }\r\n    },\r\n    [section, fertilizers, onChange]\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"bg-blue-200 align-center justify-center flex font-bold\">\r\n        Fertilizer\r\n      </div>\r\n      <DataGrid\r\n        hideFooter={true}\r\n        autoHeight\r\n        rows={fertilizers.map((fertilizer, id) => ({ id: id, ...fertilizer }))}\r\n        columns={fertilizerColumns}\r\n        onCellEditCommit={handleCellEditCommit}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nconst SectionRow = ({ editable, section, onChange = null }) => (\r\n  <div className=\"w-full p-2 bg-gray-200 rounded\">\r\n    <div className=\"flex bg-blue-200 rounded-1 justify-content-center font-bold\">\r\n      {section.name}\r\n    </div>\r\n    <SectionTable editable={editable} section={section} onChange={onChange} />\r\n    <FertilizerTable\r\n      editable={editable}\r\n      section={section}\r\n      onChange={onChange}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport const IrrigationSchedule = () => {\r\n  const { farmId } = useParams();\r\n  const [{ data, loading, error }] = useApi(`/-${farmId}/schedule`);\r\n  const [, setDirty] = useState(false);\r\n\r\n  const [schedule, setSchedule] = useState();\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setSchedule(data);\r\n    }\r\n  }, [data]);\r\n\r\n  if (loading || !schedule) return <Preloader />;\r\n  if (error) return <img src={ErrorGif} alt={ErrorGif} />;\r\n\r\n  const handleChange = async (editedSection) => {\r\n    const editedSchedule = schedule.map((section) =>\r\n      section.sql_index === editedSection.sql_index ? editedSection : section\r\n    );\r\n    setDirty(true);\r\n    setSchedule(editedSchedule);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"p-4\">\r\n        <div className=\"flex flex-col align-items-center align-content-center justify-content-center p-1\">\r\n          <div className=\"w-full\">\r\n            {schedule.map((section, i) => {\r\n              return (\r\n                <div\r\n                  key={i}\r\n                  className=\"bg-gray-200 rounded shadow-md w-full mb-4 p-2\"\r\n                >\r\n                  <SectionRow section={section} onChange={handleChange} />\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 16/08/2021 - 14:40:38\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 16/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport ApexChart from \"react-apexcharts\";\r\nimport { useApi } from \"api\";\r\nimport { FertilizerBarChart } from \"components/charts/FertilizerBarChart\";\r\nimport { FertilizerPieChart } from \"components/charts/FertilizerPieChart\";\r\nimport ErrorGif from \"images/ErrorGif.gif\";\r\nimport { useRefetch } from \"components/Timer\";\r\nimport { ProgressBar } from \"@themesberg/react-bootstrap\";\r\n\r\nconst IrrigationProgress = ({ data }) => (\r\n  <div className=\"p-4 h-full\">\r\n    <div className=\"font-bold text-xl\">Irrigation</div>\r\n    <div className=\"font-bold text-3xl\">Cycle Progress</div>\r\n    <div className=\"mt-3\">\r\n      <ProgressBar variant=\"success\" animated now={data.cycle_progress} />\r\n    </div>\r\n  </div>\r\n);\r\n\r\nconst IrrigationTimeLeft = ({ data }) => (\r\n  <div className=\"p-4 h-full\">\r\n    <div className=\"text-xl font-bold\">Next Start Time</div>\r\n    <div className=\"font-bold text-2xl\">{data.next_start_time}</div>\r\n  </div>\r\n);\r\n\r\nconst IrrigationEC = ({ data }) => (\r\n  <div className=\"p-4 h-full\">\r\n    <div className=\"text-xl font-bold\">EC</div>\r\n    <div className=\"text-2xl font-bold\">Value: {data.ec_data.value} S</div>\r\n    <div className=\"font-bold\">Target: {data.ec_data.setpoint} S</div>\r\n  </div>\r\n);\r\n\r\nconst Pump = ({ pump }) => (\r\n  <div className=\"p-4 h-full\">\r\n    <div className=\"font-bold text-xl\">Water Pump</div>\r\n    <div className=\"font-bold text-3xl\">{pump.status}</div>\r\n    <div className=\"font-bold\">{pump.main_flow}</div>\r\n  </div>\r\n);\r\n\r\nexport const HomeFlowWaterUsage = ({ data, type }) => {\r\n  return (\r\n    <ApexChart\r\n      type={type}\r\n      series={[\r\n        {\r\n          name: data.name,\r\n          data: data.sensor_total_flow_bar_graph.map(({ y }) => y),\r\n        },\r\n      ]}\r\n      options={{\r\n        chart: {\r\n          sparkline: {\r\n            enabled: true,\r\n          },\r\n        },\r\n        tooltip: {\r\n          y: {\r\n            formatter: (y) => {\r\n              return `${y} ${data.unit}`;\r\n            },\r\n          },\r\n        },\r\n        xaxis: {\r\n          categories: data.sensor_total_flow_bar_graph.map(({ x }) => x),\r\n        },\r\n        subtitle: {\r\n          text: data.name,\r\n          offsetX: 30,\r\n        },\r\n        title: {\r\n          text: `${data.sensor_daily_total_flow} ${data.unit}`,\r\n          offsetX: 30,\r\n        },\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\n\r\nexport const Dashboard = () => {\r\n  const { farmId } = useParams();\r\n  const [{ data, loading, error }, refetch] = useApi(`/-${farmId}/dashboard`);\r\n\r\n  useRefetch(refetch);\r\n\r\n  if (!data && loading) return <Preloader />;\r\n  if (error)\r\n    return (\r\n      <div>\r\n        <img src={ErrorGif} alt={ErrorGif} width=\"100%\" />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"p-1\">\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-4 p-4 gap-4\">\r\n        <div className=\"bg-gray-300 rounded shadow-md\">\r\n          <IrrigationProgress data={data.irrigation_data} />\r\n        </div>\r\n        <div className=\"bg-gray-300 rounded shadow-md\">\r\n          <IrrigationTimeLeft data={data.irrigation_data} />\r\n        </div>\r\n        <div className=\"bg-gray-300 rounded shadow-md\">\r\n          <IrrigationEC data={data.irrigation_data} />\r\n        </div>\r\n        {data.irrigation_data.pump_data.map((pump, i) => (\r\n          <div key={i} className=\"bg-gray-300 rounded shadow-md\">\r\n            <Pump pump={pump} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"grid grid-cols-1 lg:grid-cols-3 p-2 pt-0\">\r\n        {data.water_usage.map((waterUsageData, i) => (\r\n          <div\r\n            key={i}\r\n            className=\"bg-gray-300  rounded shadow-md m-3 pt-4 pb-2 overflow-hidden\"\r\n          >\r\n            <HomeFlowWaterUsage\r\n              data={waterUsageData}\r\n              type={waterUsageData.name == \"Water Usage Today\" ? \"area\" : \"bar\"}\r\n            />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"grid grid-cols-3 sm:grid-cols-6\">\r\n        <div className=\"col-span-3 sm:col-span-6 bg-gray-300 rounded shadow-md m-3\">\r\n          <FertilizerBarChart\r\n            title=\"Fertilizer Usage\"\r\n            data={data.fertilizer_usage.bar_graph}\r\n          />\r\n        </div>\r\n        <div className=\"col-span-3 bg-gray-300 rounded shadow-md m-3\">\r\n          <FertilizerPieChart\r\n            data={data.fertilizer_usage.pie_chart}\r\n            title=\"Actual Ratio\"\r\n          />\r\n        </div>\r\n        <div className=\"col-span-3 bg-gray-300 rounded shadow-md m-3\">\r\n          <FertilizerPieChart\r\n            data={data.fertilizer_usage.pie_chart_recommended}\r\n            title=\"Recommended Ratio\"\r\n          />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 18/08/2021 - 08:45:18\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 18/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport { useState, useCallback } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useApi } from \"api\";\r\nimport { DatePicker, LocalizationProvider } from \"@material-ui/pickers\";\r\nimport MomentUtils from \"@material-ui/pickers/adapter/moment\";\r\nimport moment from \"moment\";\r\nimport PreloaderBar from \"images/PreloaderBar.gif\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst dateFormat = \"YYYY-MM-DD\";\r\nconst DatePickers = ({ value, onChange }) => {\r\n  return (\r\n    <LocalizationProvider dateAdapter={MomentUtils} dateFormat={dateFormat}>\r\n      <DatePicker\r\n        renderInput={(props) => (\r\n          <TextField\r\n            {...props}\r\n            variant=\"outlined\"\r\n            margin=\"none\"\r\n            helperText=\"\"\r\n          ></TextField>\r\n        )}\r\n        inputFormat={dateFormat}\r\n        value={value}\r\n        onChange={onChange}\r\n      />\r\n    </LocalizationProvider>\r\n  );\r\n};\r\n\r\nconst EmailInput = ({ value, onInput }) => {\r\n  return (\r\n    <TextField\r\n      className=\"w-full\"\r\n      label=\"Email Address\"\r\n      variant=\"outlined\"\r\n      value={value}\r\n      onInput={onInput}\r\n    />\r\n  );\r\n};\r\n\r\nconst SaveButton = () => {\r\n  return (\r\n    <button\r\n      type=\"submit\"\r\n      style={{\r\n        backgroundColor: \"steelblue\",\r\n        border: \"1px 1px solid steelblue\",\r\n        borderRadius: \"0.2cm\",\r\n        color: \"white\",\r\n        width: \"5rem\",\r\n        height: \"2rem\",\r\n      }}\r\n    >\r\n      Send\r\n    </button>\r\n  );\r\n};\r\n\r\nexport const Report = () => {\r\n  const { farmId } = useParams();\r\n  const [date, setDate] = useState(new Date());\r\n  const [email, setEmail] = useState(\"\");\r\n  const [message, setMessage] = useState(\"\");\r\n  const [{ data, loading, error }, postReport] = useApi(\r\n    {\r\n      url: `/-${farmId}/report`,\r\n      method: \"POST\",\r\n      headers: {\r\n        \"content-type\": \"application/json\",\r\n      },\r\n    },\r\n    {\r\n      manual: true,\r\n    }\r\n  );\r\n\r\n  const handleSubmit = useCallback(\r\n    (e) => {\r\n      e.preventDefault();\r\n      postReport({\r\n        data: {\r\n          start_date: moment(date).format(dateFormat),\r\n          email: email,\r\n        },\r\n      }).catch((e) => setMessage(e.toString()));\r\n    },\r\n    [date, email]\r\n  );\r\n\r\n  return (\r\n    <div className=\"flex justify-content-center p-4\">\r\n      <form\r\n        className=\"flex flex-col align-items-center bg-gray-300 shadow-md rounded p-5 space-y-5 block\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <div className=\"w-full\">\r\n          <EmailInput value={email} onInput={(e) => setEmail(e.target.value)} />\r\n        </div>\r\n        <div>\r\n          <DatePickers value={date} onChange={(date) => setDate(date)} />\r\n        </div>\r\n        <div className=\"text-gray-900 text-center\">{data}</div>\r\n        {loading ? (\r\n          <img width={50} height={50} src={PreloaderBar} alt={PreloaderBar} />\r\n        ) : null}\r\n        <SaveButton />\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 12/08/2021 - 15:13:18\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 12/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React from \"react\";\r\nimport ErrorGif from \"images/ErrorGif.gif\";\r\nimport { useApi } from \"api\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport water_filter from \"images/water_filter.png\";\r\nimport { useRefetch } from \"../components/Timer\";\r\nimport { ProgressBar } from \"@themesberg/react-bootstrap\";\r\n\r\nimport Table from \"@mui/material/Table\";\r\nimport TableBody from \"@mui/material/TableBody\";\r\nimport TableCell from \"@mui/material/TableCell\";\r\nimport TableContainer from \"@mui/material/TableContainer\";\r\nimport TableHead from \"@mui/material/TableHead\";\r\nimport TableRow from \"@mui/material/TableRow\";\r\nimport Paper from \"@mui/material/Paper\";\r\n\r\nconst BorderLinearProgress = withStyles((theme) => ({\r\n  root: {\r\n    height: 10,\r\n    borderRadius: 6,\r\n  },\r\n  colorPrimary: {\r\n    backgroundColor:\r\n      theme.palette.grey[theme.palette.type === \"dark\" ? 200 : 700],\r\n  },\r\n  bar: {\r\n    borderRadius: 6,\r\n    backgroundColor: \"#05ab24\",\r\n  },\r\n}))(LinearProgress);\r\n\r\nconst BackwashItem = ({ backwash }) => {\r\n  return (\r\n    <div className=\"bg-gray-300 rounded shadow-md p-2\">\r\n      <div className=\"font-bold text-2xl mb-2\">{backwash.name}</div>\r\n      <div className=\"flex justify-between\">\r\n        <div className=\"flex flex-col justify-end\">\r\n          <div className=\"font-bold text-green-800 text-xl\">\r\n            {backwash.status}\r\n          </div>\r\n          <div className=\"font-bold text-sm text-red-400\">{backwash.alarm}</div>\r\n        </div>\r\n        <div>\r\n          <img src={water_filter} width={70} />\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n/////////////////////////////////////////////////////////////////////////////////////////////\r\nconst backwashdata = [\r\n  {\r\n    timestamp: \"31-01-22 12:34\",\r\n    backwashtype: \"backwash valve 3\",\r\n  },\r\n  {\r\n    timestamp: \"31-01-22 12:35\",\r\n    backwashtype: \"backwash valve 4\",\r\n  },\r\n  {\r\n    timestamp: \"31-01-22 12:36\",\r\n    backwashtype: \"backwash valve 5\",\r\n  },\r\n];\r\n/////////////////////////////////////////////////////////////////////////////////////////////////\r\n\r\nconst BackwashProgress = ({ data }) => (\r\n  <div className=\"bg-gray-300 rounded shadow-md p-2 flex flex-col justify-between\">\r\n    <span className=\"text-2xl font-bold\">Progress</span>\r\n    <div className=\"mt-3 mx-4\">\r\n      <ProgressBar\r\n        variant=\"success\"\r\n        animated\r\n        now={data.backwash_status.percentage_left}\r\n      />\r\n    </div>\r\n    <div className=\"flex justify-between text-xl font-bold\">\r\n      <span>{data.backwash_status.status}</span>\r\n      <span>{data.backwash_status.percentage_left.toFixed(2)}%</span>\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport const Backwash = () => {\r\n  const { farmId } = useParams();\r\n  const [{ data, loading, error }, refetch] = useApi(`/${farmId}/backwash`);\r\n\r\n  useRefetch(refetch);\r\n\r\n  if (!data && loading) return <Preloader />;\r\n  if (error)\r\n    return (\r\n      <div>\r\n        <img src={ErrorGif} alt={ErrorGif} width=\"100%\" />\r\n      </div>\r\n    );\r\n  if (data === null)\r\n    return (\r\n      <div>\r\n        <img src={ErrorGif} alt={ErrorGif} width=\"100%\" />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div>\r\n      <div\r\n        style={{ gridTemplateColumns: \"repeat(auto-fill, minmax(250px, 1fr))\" }}\r\n        className=\"grid gap-4 p-4\"\r\n      >\r\n        <BackwashProgress data={data} />\r\n        {data.backwash_valves.map((backwash, i) => (\r\n          <div key={i}>\r\n            <BackwashItem backwash={backwash} />\r\n          </div>\r\n        ))}\r\n      </div>\r\n      \r\n    </div>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,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\"","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 16/08/2021 - 08:24:31\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 16/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\n\r\nimport React, { useState, useMemo, useEffect, useCallback } from \"react\";\r\nimport PreloaderBar from \"images/PreloaderBar.gif\";\r\nimport { useApi, post } from \"api\";\r\nimport { useRefetch } from \"components/Timer\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport ErrorGif from \"images/ErrorGif.gif\";\r\nimport FormGroup from \"@mui/material/FormGroup\";\r\nimport FormControlLabel from \"@mui/material/FormControlLabel\";\r\nimport Checkbox from \"@mui/material/Checkbox\";\r\n\r\nconst setAt = (arr, idx, val) =>\r\n  [arr.slice(0, idx), [val], arr.slice(idx + 1, arr.length)].flat();\r\n\r\n\r\nconst useHandler = (field, state, setter) =>\r\n  useCallback(\r\n    (e) => setter({ ...state, [field]: e.target.value }),\r\n    [field, state, setter]\r\n  );\r\n\r\nconst useChecked = (field, state, setter) =>\r\n  useCallback(\r\n    (e) => setter({ ...state, [field]: e.target.checked }),\r\n    [field, state, setter]\r\n  );\r\n\r\nconst UserForm = ({ value, onChange }) => {\r\n  const {\r\n    order,\r\n    email_address,\r\n    cellphone_number,\r\n    notification_type,\r\n    alarms_enabled,\r\n    start_enabled,\r\n    schedule_enabled,\r\n    whatsapp_api_key,\r\n  } = value;\r\n\r\n  const handleEmailAddress = useHandler(\"email_address\", value, onChange);\r\n  const handleCellphoneNumber = useHandler(\"cellphone_number\", value, onChange);\r\n  const handleNotificationType = useHandler(\r\n    \"notification_type\",\r\n    value,\r\n    onChange\r\n  );\r\n  const handleWhatsapp_api_key = useHandler(\r\n    \"whatsapp_api_key\",\r\n    value,\r\n    onChange\r\n  );\r\n\r\n  const handleAlarmsEnabled = useChecked(\"alarms_enabled\", value, onChange);\r\n  const handleStartEnabled = useChecked(\"start_enabled\", value, onChange);\r\n  const handleScheduleEnabled = useChecked(\"schedule_enabled\", value, onChange);\r\n  return (\r\n    <div className=\"flex flex-col space-y-4 bg-gray-200 rounded shadow-md p-4\">\r\n      <div className=\"font-bold flex justify-center mb-2\">\r\n        User:&nbsp;{order}\r\n      </div>\r\n      <TextField\r\n        variant=\"outlined\"\r\n        label=\"Email address\"\r\n        value={email_address}\r\n        onInput={handleEmailAddress}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        label=\"Cellphone number\"\r\n        value={cellphone_number}\r\n        onInput={handleCellphoneNumber}\r\n      />\r\n      <TextField\r\n        variant=\"outlined\"\r\n        label=\"WhatsApp API key\"\r\n        value={whatsapp_api_key}\r\n        onInput={handleWhatsapp_api_key}\r\n      />\r\n      <FormControl>\r\n        <InputLabel variant=\"outlined\">Method</InputLabel>\r\n        <Select\r\n          value={notification_type}\r\n          onChange={handleNotificationType}\r\n          variant=\"outlined\"\r\n        >\r\n          <MenuItem value={\"None\"}>None</MenuItem>\r\n          <MenuItem value={\"WhatsApp\"}>WhatsApp</MenuItem>\r\n        </Select>\r\n      </FormControl>\r\n      <FormGroup row={true} className=\"flex justify-center\">\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox checked={alarms_enabled} onChange={handleAlarmsEnabled} />\r\n          }\r\n          label=\"Alarms\"\r\n        />\r\n        <FormControlLabel\r\n          control={\r\n            <Checkbox checked={start_enabled} onChange={handleStartEnabled} />\r\n          }\r\n          label=\"Start Notification\"\r\n        />\r\n      </FormGroup>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const Notifications = () => {\r\n  const { farmId } = useParams();\r\n  const prefix = `/-${farmId}`;\r\n  const [{ data, loading, error }, refetch] = useApi(`${prefix}/notifications`);\r\n  const [{ loading: postLoading }, postNotification] = useApi(\r\n    ...post(`${prefix}/notifications`)\r\n  );\r\n\r\n  const [state, setState] = useState(null);\r\n\r\n  useEffect(() => {\r\n    if (data) {\r\n      setState(data);\r\n    }\r\n  }, [data]);\r\n\r\n  const handleChange = useCallback((user) => {\r\n    const { index } = user;\r\n    setState((state) => setAt(state, index, user));\r\n  }, []);\r\n\r\n  const handleSubmit = useCallback((e) => {\r\n    e.preventDefault();\r\n    postNotification({ data: state }).finally(() => refetch());\r\n  });\r\n\r\n  if (!state) return <Preloader />;\r\n  if (error)\r\n    return (\r\n      <div className=\"p-4\">\r\n        <img src={ErrorGif} alt={ErrorGif} width=\"100%\" />\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"m-4\">\r\n      <div\r\n        style={{\r\n          gridTemplateColumns: \"repeat(auto-fill, minmax(300px, 1fr)\",\r\n        }}\r\n        className=\"grid gap-4\"\r\n      >\r\n        {state.map((user, i) => (\r\n          <UserForm\r\n            key={i}\r\n            value={{ ...user, index: i }}\r\n            onChange={handleChange}\r\n          />\r\n        ))}\r\n      </div>\r\n      <div className=\"flex align-center justify-center\">\r\n        {loading ? (\r\n          <img width={50} height={50} src={PreloaderBar} alt={PreloaderBar} />\r\n        ) : null}\r\n      </div>\r\n      <div className=\"flex align-center justify-center mt-4\">\r\n        <Button\r\n          type=\"submit\"\r\n          variant=\"contained\"\r\n          color=\"primary\"\r\n          disabled={postLoading}\r\n        >\r\n          <div style={{ color: \"white\" }}>Save</div>\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABkCAYAAABw4pVUAAAABmJLR0QA/wD/AP+gvaeTAAALF0lEQVR4nO2de2wcxR3HfzOzu/d++hGStATHJiFYOSeYAC0FA0KtEBSqlqKWSqj8AcGEghrUggEJ2ioxKSiiJQkkLbRFqBIUVTRUqBBEYrBIsEliJyROnZCURCF+2/d+zKt/BJ/vEtt3tnd9d85+JEve2Z2Z3/l78/j9ZmYNYGJiYmJiYmJiYmJiYmJiYmJiYmJiYmKiM2i6Geu3fuFJcQXracx4XFZ+cegfdyFudD3FgjKdTMu3fOkT0f7ThNNp5c8XRFR09GTfGgDYZmQ9xcS0/qA2EcMpxoniLlf1NuhcaHhIM7qOYsLwLsdkapiCFBm6jQE8NnKSxiK7Z1IGUa1+bHPeTDTrtCcbpY5ugohU6qDNv/CJmZQhMVouktGb9bKpFNFNEKxq36PRwSMzLYc4/Bds6wDQURDi8Bo6Bb5QMAf1ImP6ghB8QXctRjGtbsY+0BNM2a2baLDHAQAAWLUhTH6qZHRbLDrSLVli12TlIGL1I1X5EbE40+LyaKhdsNj+0Wui2v8zHRtLFV2+5fVbD8/n4fCXitOf9tzp8Om/djbdcO9k+a7YcjwgksH9is2Zbqmp4Z6nDjRdt04Pu0oRcwwpMubczOjHb0pyMnhsPqVoXqFsIIrgQrLevWeW9cIzSEwl75wRJPDcpzchlvxj94k9lyCCLQiTgk06GABIwUWdbQ+VzR9HQMo2xeF9Zt8jgb258pa8ILWbDzlxaPA9QsjVxDWfFNqeDAgAqABgB4DbeCx4S6C59TByld3Z+dCy7okylfQYsvLFIwuUSPALi/eibxO7p5jEOA9i9xDNN285xEMHAs+2PDLRcyUrSP3Wg9UiPvS56qmoBFQ6LpHq8luw5twYWLdry3j3S7LLWrnp8CIeDO5T3RXuzHQpBCA89h2TnIKg9BXJUsdnxTAMdyt2b+3oJYuFhKSJKHF4XVgZW2dT7G7MQNy/ormlo6OpIWs1tOQECbzW6ZBnRnYrnmwxeDwqEJJHkdW5NDOdWGztQnN8ZqRNGEnx2QM1HXXNH9VDhiCSUYYrKqt5b8+jgigPK+5y2+g9xe4llPMXVm0+sb19TVVPOt1IQ3VHSoSfbf1E8VbOz0xmsZAQ8cjLVk/FBwLgn6PpCCsgWPIlo83ijLL6bV2L2HgmI4V2Nl33+IqXD79Cw4NtqqvMO3pPdZXZkiOn3gCAhtG0khpDAutbn8NO73JAY2bzRETKZPQPB55sWHNeBoQAq1Zk9I/kNKftHQ9cfhRbXNfS0EAiy0SsXVO/9XD6C1YygtRt7KhFmvYQVsdWEyWnIOLRHZ1N168tpG35sv/h2sNS8telGNvVpLr8GhvqT8+6iq7Lwqp9wRVbjtWfm87DvdtVT6UlM41Fho/7kvTW2bNufBBW8p7m2WzzHk1E+u9W3RX2s5kRSIAfAsDjAMUoiKY1Aos1ZiUiAMVVnvWhaXgwpjnn3bDrsZrxum4AONuCeIr+gdPoUYPMBQAAApi6zoT6h7XcHc6nD18aCqxv6QOAS9KJEtLjShEKknuDg0hEpWDJ37avqTmV61lid/yrY3XdTn2sm5y69S35PYjQIGQKQoh19NeSGUMyYYno/oNNDRsKbce0QRDNvMSYpBtG0bWQXNBgfww8826ZQpYrVm3rNjSswjkW+3qrdwF8NOOyik4QHh3Zzjh9HwAAq9bFRFHXYjXdogEJ9vfOxpq+fMpCWAGRjD1n9E5twVKsfn7XIjY487LSgqx6uft6wJB7Hy3F/82n754uPJVoO9h03WYAgCtfOnatYPFfQubKpmpvzbswhABrNsMDXSIV162ssTXweGQHsblyCpIKnn4XAAo+1ZyrpAd1yZIXzBkMvUFE1a0VFt0YoieSU0BY/Y3EcMjIelSrmy3yVfd1D/bPuKwpC4IstvJV27qz999y5C/W5iUxatm7usZwP6QNpuCHTMKEgvDYyEHs8DSx4OBbqrs8Pc1RHb6rpIAdWQ8jAMXpn7ExJpMJkooPW+GiDyeMS5QISMiG+q1Hy42sgwjEFpVVb+8+Ngf9ED1BRAUAeBpJY+uhiRA7Ptx1sR5llWTopNiQnOom+ZRbCI0Ot2ku75NZiRz5aXTo9cytpCbTY8qCyGR8oP3Rqz7ITMtc8SoqpARBEwZ3WACA9QuVzekxRAoGyGL/FUai09CKuF3sPVPdW6cVwA/RGwRSilRcAgAgjAERordLs6/9/iWzsh4CRvohs0GyPH7EMuj+LiEiPbkQeGHO/a9zmYIKcuiu2hQAfGhkHTwWvWP57z+53Mg6CGDqjcVfHdahrIJ3WUaCiAqKTX1EsdkNrYfHQiw83/0O6BDLMv0QHZCC6TaTMwUpMqbcZWGLvWbF8+1Zb2xg0ZgL63ReUVekBMGShvshX4dodGHKgigO7xIAKIlDmVIwwIqlUUhs6GZroljFZ/fX9NQ1zwE/xGgkxt37VtcYP5VuBF38EHMMKTImbCFYtVdH48ebscWWJRqPRwXI82cV2GInevalesHDQw8E1u00dFMGIkqcLfb/Do4NzLisCQVRHJ6F4PCcdxZOssRu7CjPTkeynEeH3im2aC8iKihO313g9BlaD4+FmHUYbdFjMW/KY4igyWDHg9l9ctFGe2cJ0w+Zw6RbCFI0yWPBySOtCAEClMqrZNW+KrBu5/MzMY5GBhYSqzPLv5E0disA/C2vAqQEHg8ZvyEGKwIzmy6tJC0ItnuXYc5zdmGYuPMauVSnrxacvtrcT04NpGh3BF48UnXgF5edyPWsFAyww30P5rBHbzuybFKFbLuvqkfXbUB7V1efnHFps4DiKtPoSM97IOVSQPlsX8Bn2h+smZ1j0fki5YRRjZIcQxSH79LAupYXCm3HtJHImXXJx06N6uKpY2aTnCQki4Wn9OabvEEAWNEwVs8eMUSqBZDFtrpuY8e2zrUrJt0myqMja+s2fPwTQ+waNQ+ReMRa8RhEvsozh8zaJyaFTG+f10WQ9jVVPde81LWUS2JYi0uG+9/XPJXVo9eqy2+hwf73v7XxVM3utd8c9zwAIioods9tAB6jzAIAAB4dYR4L3cAiuZ9d+erRCjE4WJGViMTQ6K+6xbL2NC77n15ljceqzcduTIUHjqiusvRqk+LyL4iFTraAlFfnN54Yg5Qi77pFz5ltqu+i9NZcKQRIor42el0yY0j7mppTnCaf5olI+sMjTIA43FfWPdv6RiFty5eVG9sakGa5NfNlOTwyFLfZfX8avS6paO/nTzQ8H2hu/T7WbNejr/dCYdWKpMN9Z6C59W041z+RAlhkKPdrFmYIIhpTsFVMFjqp27DnRsHEv1V32Vh4SUoQNPVB20PL0ofhSkoQAADVb72ZjQweUT2Vi0fTiGZHCPDtlKXqiZLxeQUH4i77udF+CBMK//S+xb3j+SFqnPoD6z76M8Jwu+Iqy4r10dBAGC+4+J7MtOJb5cuDqzZ1laWiw12KpyJ7cJQSMrsDyRmweGgnT8TyOiQ6UxS781rF7v3G6DWLhYVkyZTq8lsz388CAMAiwxSE+EHHr695NzO9JAUBODtbkX39nYq3ouQCmywyQlki/MznT920/tx7JSsIAMCKv5zwyr7T+xSnv6oY12LGg4YHIlLwnx147Dvbx7tfMrOs8ei4t2rEF6dLaLDvLRYezi/oWSBYeCCZHPpqh+L2V00kBkCJt5BM6jZ1LRGh/q0I4wDGxIYIKdiERQIAME6lZCkp5ZCU6G2nr3Lj7salp3PlnTOCZFL75iENDzgdhbThQvt3fyYmJiYmJiYmJiYmJiYmJiYmJiYF5v+yCwA1OmVH0QAAAABJRU5ErkJggg==\"","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 16/08/2021 - 16:23:58\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 16/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React, { createContext, useState, useContext } from \"react\";\r\nimport { Route, Switch, Redirect, useParams, Link } from \"react-router-dom\";\r\nimport { Routes } from \"routes\";\r\nimport { Sidebar } from \"components/Sidebar\";\r\nimport { Navbar } from \"components/Navbar\";\r\nimport { Login, Logout, LoginContext } from \"components/Login\";\r\nimport { Users } from \"pages/Users\";\r\nimport { LandingPage } from \"pages/LandingPage\";\r\nimport { Control } from \"pages/Control\";\r\nimport { IrrigationControl } from \"pages/IrrigationControl\";\r\nimport { Fertilizer } from \"pages/Fertilizer\";\r\nimport { IrrigationSchedule } from \"pages/IrrigationSchedule\";\r\nimport { Dashboard } from \"pages/Dashboard\";\r\nimport { Report } from \"pages/Report\";\r\nimport { Backwash } from \"pages/Backwash\";\r\nimport { Notifications } from \"pages/Notifications\";\r\nimport { Pumps } from \"pages/Pumps\";\r\nimport { useApi } from \"api\";\r\nimport { SidebarContext } from \"../components/Sidebar\";\r\nimport { useMd } from \"media-query\";\r\n\r\nconst AppLayout = createContext();\r\n\r\nconst farm_pages = {\r\n  dashboard: {\r\n    name: \"Dashboard\",\r\n    path: \"/dashboard\",\r\n    page: Dashboard,\r\n  },\r\n  schedule: {\r\n    name: \"AI Schedule\",\r\n    path: \"/schedule\",\r\n    page: IrrigationSchedule,\r\n  },\r\n  fertilizer: {\r\n    name: \"Fertilizer\",\r\n    path: \"/fertilizer\",\r\n    page: Fertilizer,\r\n  },\r\n  irrigation: {\r\n    name: \"Irrigation\",\r\n    path: \"/irrigation\",\r\n    page: IrrigationControl,\r\n  },\r\n  pumps: {\r\n    name: \"Pumps\",\r\n    path: \"/pumps\",\r\n    page: Pumps,\r\n  },\r\n  backwash: {\r\n    name: \"Backwash\",\r\n    path: \"/backwash\",\r\n    page: Backwash,\r\n  },\r\n  notifications: {\r\n    name: \"Notifications\",\r\n    path: \"/notifications\",\r\n    page: Notifications,\r\n  },\r\n  report: {\r\n    name: \"Report\",\r\n    path: \"/report\",\r\n    page: Report,\r\n  },\r\n  control: {\r\n    name: \"Control\",\r\n    path: \"/controller_state\",\r\n    page: Control,\r\n  },\r\n};\r\n\r\nconst farm_order = [\r\n  \"dashboard\",\r\n  \"schedule\",\r\n  \"fertilizer\",\r\n  \"irrigation\",\r\n  \"pumps\",\r\n  \"backwash\",\r\n  \"notifications\",\r\n  \"report\",\r\n  \"control\",\r\n];\r\n\r\nconst FarmRoutes = () => (\r\n  <>\r\n    {Object.values(farm_pages).map((page, i) => (\r\n      <Route\r\n        key={i}\r\n        exact\r\n        path={`/:clientId/:farmId${page.path}`}\r\n        component={page.page}\r\n      />\r\n    ))}\r\n  </>\r\n);\r\n\r\nconst getBrandItem = (prefix, title) => ({\r\n  title: title,\r\n  action: {\r\n    type: \"brand\",\r\n    path: `${prefix}/`,\r\n  },\r\n});\r\n\r\nconst getFarmItems = (prefix, layout) =>\r\n  !layout\r\n    ? []\r\n    : Object.entries(layout.farms).map(([farmName, pages]) => ({\r\n        title: farmName,\r\n        action: {\r\n          type: \"accordion\",\r\n          items: farm_order\r\n            .filter((x) => x in pages)\r\n            .map((pageName) => {\r\n              const path = pages[pageName];\r\n              const farmPage = farm_pages[pageName] || { name: pageName };\r\n              return {\r\n                title: farmPage.name,\r\n                action: {\r\n                  type: \"link\",\r\n                  path: `${prefix}/${path}`,\r\n                },\r\n              };\r\n            }),\r\n        },\r\n      }));\r\n\r\nconst spacerItem = { action: { type: \"spacer\" } };\r\nconst growItem = { action: { type: \"grow\" } };\r\n\r\nconst getBottomItems = (prefix) => [\r\n  {\r\n    title: \"Users\",\r\n    action: {\r\n      type: \"link\",\r\n      path: `${prefix}/users`,\r\n    },\r\n  },\r\n  {\r\n    title: \"Logout\",\r\n    action: {\r\n      type: \"link\",\r\n      path: `${prefix}/logout`,\r\n    },\r\n  },\r\n];\r\n\r\nconst getNavItems = (prefix, layout) =>\r\n  [\r\n    [getBrandItem(prefix, layout && layout.company_name)],\r\n    [spacerItem],\r\n    getFarmItems(prefix, layout),\r\n    [growItem],\r\n    getBottomItems(prefix),\r\n  ].flat();\r\n\r\nconst WithSidebar = ({ children }) => {\r\n  const { clientId } = useParams();\r\n  const isMd = useMd();\r\n  const [show] = useContext(SidebarContext);\r\n  const fullSidebar = show && isMd;\r\n  const appLayout = useContext(AppLayout);\r\n  const prefix = `/${clientId}`;\r\n  const navItems = getNavItems(prefix, appLayout);\r\n\r\n  return (\r\n    <div className=\"absolute w-full vh-100 flex flex-col overflow-hidden\">\r\n      <Navbar />\r\n      <div\r\n        style={{\r\n          height: \"calc(100vh - 60px)\",\r\n        }}\r\n        className=\"flex\"\r\n      >\r\n        <Sidebar items={navItems}></Sidebar>\r\n\r\n        {/* TODO: Simplify this shit without breaking anything */}\r\n        <main\r\n          style={{\r\n            width: show ? \"calc(100vw - 300px)\" : \"calc(100vw)\",\r\n          }}\r\n          className={`relative ${\r\n            fullSidebar ? \"hidden\" : \"\"\r\n          } content flex-grow-1 bg-gray-500 overflow-auto`}\r\n        >\r\n          <Login loginUrl={`/${clientId}/intellifarm/login`} />\r\n          {children}\r\n        </main>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst RouteInner = () => {\r\n  const { clientId } = useParams();\r\n\r\n  const [{ data: appLayout }] = useApi(`/${clientId}/get_app_layout`);\r\n\r\n  return (\r\n    <AppLayout.Provider value={appLayout}>\r\n      <WithSidebar>\r\n        <Switch>\r\n          <Route exact path={Routes.LandingPage.path} component={LandingPage} />\r\n          <Route\r\n            exact\r\n            path={Routes.NotFound.path}\r\n            component={() => <p>Not Found</p>}\r\n          />\r\n          <Route exact path={Routes.Users.path} component={Users} />\r\n\r\n          <Route exact path={Routes.Control.path} component={Control} />\r\n          <Route\r\n            exact\r\n            path={Routes.Logout.path}\r\n            component={() => (\r\n              <Logout\r\n                logoutUrl={`/${clientId}/intellifarm/logout`}\r\n                redirect={Routes.LandingPage.path.replace(\r\n                  \":clientId\",\r\n                  clientId\r\n                )}\r\n              />\r\n            )}\r\n          />\r\n          <FarmRoutes />\r\n          <Redirect to={Routes.NotFound.path} />\r\n        </Switch>\r\n      </WithSidebar>\r\n    </AppLayout.Provider>\r\n  );\r\n};\r\n\r\nexport const HomePage = () => {\r\n  const [loginOpen, setLoginOpen] = useState(false);\r\n  const [showSidebar, setShowSidebar] = useState(true);\r\n\r\n  return (\r\n    <LoginContext.Provider value={[loginOpen, setLoginOpen]}>\r\n      <SidebarContext.Provider value={[showSidebar, setShowSidebar]}>\r\n        <Switch>\r\n          <Redirect exact path=\"/\" to=\"/denau\" />\r\n          <Route path=\"/:clientId/\" component={RouteInner} />\r\n        </Switch>\r\n      </SidebarContext.Provider>\r\n    </LoginContext.Provider>\r\n  );\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 16/08/2021 - 14:46:41\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 16/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React from \"react\";\r\nimport ErrorGif from \"images/ErrorGif.gif\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Preloader } from \"components/Preloader\";\r\nimport { useApi } from \"api\";\r\nimport pump from \"images/pump.png\";\r\nimport { useRefetch } from \"../components/Timer\";\r\n\r\nexport const Pumps = () => {\r\n  const { farmId } = useParams();\r\n  const [{ data, loading, error }, refetch] = useApi(`/${farmId}/pumps`);\r\n\r\n  useRefetch(refetch);\r\n\r\n  if (!data && loading) return <Preloader />;\r\n  if (error)\r\n    return (\r\n      <div>\r\n        <div className=\"p-1\">\r\n          <img src={ErrorGif} alt={ErrorGif} width=\"100%\" />\r\n        </div>\r\n      </div>\r\n    );\r\n\r\n  return (\r\n    <div className=\"p-4 ml-2 mt-2\">\r\n      <div className=\"grid xl:grid-cols-4 gap-3\">\r\n        {data.map((data, i) => (\r\n          <div key={i} className=\"p-1.5 pb-2 bg-gray-300 rounded shadow-md \">\r\n            <div className=\"font-bold text-2xl mb-2\">{data.name}</div>\r\n            <div className=\"grid grid-cols-2 -mb-2\">\r\n              <div className=\"grid grid-rows-2\">\r\n                <div className=\"font-bold text-green-800 text-xl\">\r\n                  {data.pressure}\r\n                </div>\r\n                <div className=\"font-bold text-green-800 text-xl\">\r\n                  {data.status}\r\n                </div>\r\n                <div className=\"font-bold text-sm text-red-400 mb-2\">\r\n                  {data.alarm}\r\n                </div>\r\n              </div>\r\n              <div className=\"flex ml-10 align-center justify-center\">\r\n                <img width={95} height={95} src={pump} alt={pump} />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","// Here are more informations about the scroll restoration of React Router\r\n// https://reactrouter.com/web/guides/scroll-restoration\r\n\r\nimport { useEffect } from \"react\";\r\nimport { useLocation } from \"react-router-dom\";\r\n\r\nexport const ScrollToTop = () => {\r\n  const { pathname } = useLocation();\r\n\r\n  useEffect(() => {\r\n    window.scrollTo({ top: 0, left: 0, behavior: \"auto\" });\r\n  }, [pathname]);\r\n\r\n  return null;\r\n};\r\n","/**\r\n * @description      :\r\n * @author           : Grant\r\n * @group            :\r\n * @created          : 17/08/2021 - 13:19:37\r\n *\r\n * MODIFICATION LOG\r\n * - Version         : 1.0.0\r\n * - Date            : 17/08/2021\r\n * - Author          : Grant\r\n * - Modification    :\r\n **/\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport { HashRouter } from \"react-router-dom\";\r\n\r\n// core styles\r\nimport \"scss/volt.scss\";\r\n\r\n// vendor styles\r\nimport \"@fortawesome/fontawesome-free/css/all.css\";\r\nimport \"react-datetime/css/react-datetime.css\";\r\nimport \"tailwind.css\";\r\n\r\nimport { HomePage } from \"pages/HomePage\";\r\nimport { ScrollToTop } from \"components/ScrollToTop\";\r\nimport { createTheme, ThemeProvider } from \"@material-ui/core\";\r\n\r\nconst theme = createTheme({});\r\nwindow.theme = theme;\r\n\r\nReactDOM.render(\r\n  <ThemeProvider theme={theme}>\r\n    <HashRouter>\r\n      <ScrollToTop />\r\n      <HomePage />\r\n    </HashRouter>\r\n  </ThemeProvider>,\r\n  document.getElementById(\"root\")\r\n);\r\n"],"sourceRoot":""}